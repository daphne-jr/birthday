"use strict";(self.webpackChunkbirthday=self.webpackChunkbirthday||[]).push([[500],{4480:(e,n,r)=>{r.d(n,{Z:()=>R});var t=r(9439),c=r(1002),u=r(7294),i=r(2550),o=r(5110),l=r(3382),f=r(4019),a=r(8446),s=r.n(a),d=r(1033),m=r(4999);function g(e,n){var r=null,c=null,u=new d.Z((function(e){var u=(0,t.Z)(e,1)[0].target;if(document.documentElement.contains(u)){var i=u.getBoundingClientRect(),o=i.width,l=i.height,f=Math.floor(o),a=Math.floor(l);r===f&&c===a||Promise.resolve().then((function(){n({width:f,height:a})})),r=f,c=a}}));return e&&u.observe(e),function(){u.disconnect()}}function v(e){return"function"!=typeof e?null:e()}function h(e){return"object"===(0,c.Z)(e)&&e?e:null}var p=function(e,n){var r=e.children,c=e.disabled,a=e.target,d=e.align,p=e.onAlign,w=e.monitorWindowResize,R=e.monitorBufferTime,E=void 0===R?0:R,b=u.useRef({}),Z=u.useRef(),y=u.Children.only(r),X=u.useRef({});X.current.disabled=c,X.current.target=a,X.current.align=d,X.current.onAlign=p;var Y=function(e,n){var r=u.useRef(!1),t=u.useRef(null);function c(){window.clearTimeout(t.current)}return[function e(u){if(r.current&&!0!==u)c(),t.current=window.setTimeout((function(){r.current=!1,e()}),n);else{if(!1===function(){var e=X.current,n=e.disabled,r=e.target,t=e.align,c=e.onAlign;if(!n&&r){var u,i=Z.current,f=v(r),a=h(r);b.current.element=f,b.current.point=a,b.current.align=t;var s=document.activeElement;return f&&(0,o.Z)(f)?u=(0,l.E3)(i,f,t):a&&(u=(0,l.zy)(i,a,t)),function(e,n){e!==document.activeElement&&(0,m.Z)(n,e)&&"function"==typeof e.focus&&e.focus()}(s,i),c&&u&&c(i,u),!0}return!1}())return;r.current=!0,c(),t.current=window.setTimeout((function(){r.current=!1}),n)}},function(){r.current=!1,c()}]}(0,E),A=(0,t.Z)(Y,2),k=A[0],C=A[1],T=u.useRef({cancel:function(){}}),z=u.useRef({cancel:function(){}});u.useEffect((function(){var e,n,r=v(a),t=h(a);Z.current!==z.current.element&&(z.current.cancel(),z.current.element=Z.current,z.current.cancel=g(Z.current,k)),b.current.element===r&&((e=b.current.point)===(n=t)||e&&n&&("pageX"in n&&"pageY"in n?e.pageX===n.pageX&&e.pageY===n.pageY:"clientX"in n&&"clientY"in n&&e.clientX===n.clientX&&e.clientY===n.clientY))&&s()(b.current.align,d)||(k(),T.current.element!==r&&(T.current.cancel(),T.current.element=r,T.current.cancel=g(r,k)))})),u.useEffect((function(){c?C():k()}),[c]);var B=u.useRef(null);return u.useEffect((function(){w?B.current||(B.current=(0,f.Z)(window,"resize",k)):B.current&&(B.current.remove(),B.current=null)}),[w]),u.useEffect((function(){return function(){T.current.cancel(),z.current.cancel(),B.current&&B.current.remove(),C()}}),[]),u.useImperativeHandle(n,(function(){return{forceAlign:function(){return k(!0)}}})),u.isValidElement(y)&&(y=u.cloneElement(y,{ref:(0,i.sQ)(y.ref,Z)})),y},w=u.forwardRef(p);w.displayName="Align";const R=w}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdGljL2pzL25wbS5yYy1hbGlnbl84MDNmYWUxMTIwMWU4OWJkMWRhMy5qcyIsIm1hcHBpbmdzIjoicU9BdUJPLFNBQVNBLEVBQWNDLEVBQVNDLEdBQ3JDLElBQUlDLEVBQVksS0FDWkMsRUFBYSxLQTZCYkMsRUFBaUIsSUFBSSxLQTNCekIsU0FBa0JDLEdBQ2hCLElBQ0lDLEdBRFEsT0FBZUQsRUFBTSxHQUNkLEdBQUdDLE9BRXRCLEdBQUtDLFNBQVNDLGdCQUFnQkMsU0FBU0gsR0FBdkMsQ0FFQSxJQUFJSSxFQUF3QkosRUFBT0ssd0JBQy9CQyxFQUFRRixFQUFzQkUsTUFDOUJDLEVBQVNILEVBQXNCRyxPQUUvQkMsRUFBYUMsS0FBS0MsTUFBTUosR0FDeEJLLEVBQWNGLEtBQUtDLE1BQU1ILEdBRXpCWCxJQUFjWSxHQUFjWCxJQUFlYyxHQUU3Q0MsUUFBUUMsVUFBVUMsTUFBSyxXQUNyQm5CLEVBQVMsQ0FDUFcsTUFBT0UsRUFDUEQsT0FBUUksT0FLZGYsRUFBWVksRUFDWlgsRUFBYWMsTUFTZixPQUpJakIsR0FDRkksRUFBZWlCLFFBQVFyQixHQUdsQixXQUNMSSxFQUFla0IsY0M3Q25CLFNBQVNDLEVBQVdDLEdBQ2xCLE1BQW9CLG1CQUFUQSxFQUE0QixLQUNoQ0EsSUFHVCxTQUFTQyxFQUFTQyxHQUNoQixNQUF1QixZQUFuQixPQUFRQSxJQUF3QkEsRUFDN0JBLEVBRDJDLEtBSXBELElBQUlDLEVBQVEsU0FBZXRCLEVBQU11QixHQUMvQixJQUFJQyxFQUFXeEIsRUFBS3dCLFNBQ2hCQyxFQUFXekIsRUFBS3lCLFNBQ2hCeEIsRUFBU0QsRUFBS0MsT0FDZHlCLEVBQVExQixFQUFLMEIsTUFDYkMsRUFBVTNCLEVBQUsyQixRQUNmQyxFQUFzQjVCLEVBQUs0QixvQkFDM0JDLEVBQXdCN0IsRUFBSzhCLGtCQUM3QkEsT0FBOEMsSUFBMUJELEVBQW1DLEVBQUlBLEVBQzNERSxFQUFXLFNBQWEsSUFDeEJDLEVBQVUsV0FDVkMsRUFBWSxnQkFBb0JULEdBR2hD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UXhDLFFBQVVBLEVBQ2hDbUUsRUFBYzNCLFFBQVE0QixPQUFTckUsRUFBY0MsRUFBU2lFLFFBSzVELGFBQWdCLFdBQ1RuQyxFQUdIb0MsSUFGQUQsTUFJRCxDQUFDbkMsSUFFSixJQUFJOEMsRUFBZSxTQUFhLE1BbUNoQyxPQWxDQSxhQUFnQixXQUNWM0MsRUFDRzJDLEVBQWFwQyxVQUNoQm9DLEVBQWFwQyxTQUFVLEVBQUFxQyxFQUFBLEdBQWlCL0IsT0FBUSxTQUFVbUIsSUFFbkRXLEVBQWFwQyxVQUN0Qm9DLEVBQWFwQyxRQUFRc0MsU0FDckJGLEVBQWFwQyxRQUFVLFFBRXhCLENBQUNQLElBRUosYUFBZ0IsV0FDZCxPQUFPLFdBQ0xrQyxFQUFjM0IsUUFBUTRCLFNBQ3RCQyxFQUFvQjdCLFFBQVE0QixTQUN4QlEsRUFBYXBDLFNBQVNvQyxFQUFhcEMsUUFBUXNDLFNBQy9DWixPQUVELElBRUgsc0JBQTBCdEMsR0FBSyxXQUM3QixNQUFPLENBQ0xtRCxXQUFZLFdBQ1YsT0FBT2QsR0FBWSxRQUtQLGlCQUFxQjNCLEtBQ3JDQSxFQUF5QixlQUFtQkEsRUFBVyxDQUNyRFYsS0FBSyxRQUFXVSxFQUFVVixJQUFLUyxNQUk1QkMsR0FHTDBDLEVBQXVCLGFBQWlCckQsR0FDNUNxRCxFQUFRQyxZQUFjLFFBQ3RCLE1FdktBLEVGdUtBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmlydGhkYXkvLi9ub2RlX21vZHVsZXMvcmMtYWxpZ24vZXMvdXRpbC5qcyIsIndlYnBhY2s6Ly9iaXJ0aGRheS8uL25vZGVfbW9kdWxlcy9yYy1hbGlnbi9lcy9BbGlnbi5qcyIsIndlYnBhY2s6Ly9iaXJ0aGRheS8uL25vZGVfbW9kdWxlcy9yYy1hbGlnbi9lcy9ob29rcy91c2VCdWZmZXIuanMiLCJ3ZWJwYWNrOi8vYmlydGhkYXkvLi9ub2RlX21vZHVsZXMvcmMtYWxpZ24vZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5XCI7XG5pbXBvcnQgUmVzaXplT2JzZXJ2ZXIgZnJvbSAncmVzaXplLW9ic2VydmVyLXBvbHlmaWxsJztcbmltcG9ydCBjb250YWlucyBmcm9tIFwicmMtdXRpbC9lcy9Eb20vY29udGFpbnNcIjtcbmV4cG9ydCBmdW5jdGlvbiBpc1NhbWVQb2ludChwcmV2LCBuZXh0KSB7XG4gIGlmIChwcmV2ID09PSBuZXh0KSByZXR1cm4gdHJ1ZTtcbiAgaWYgKCFwcmV2IHx8ICFuZXh0KSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKCdwYWdlWCcgaW4gbmV4dCAmJiAncGFnZVknIGluIG5leHQpIHtcbiAgICByZXR1cm4gcHJldi5wYWdlWCA9PT0gbmV4dC5wYWdlWCAmJiBwcmV2LnBhZ2VZID09PSBuZXh0LnBhZ2VZO1xuICB9XG5cbiAgaWYgKCdjbGllbnRYJyBpbiBuZXh0ICYmICdjbGllbnRZJyBpbiBuZXh0KSB7XG4gICAgcmV0dXJuIHByZXYuY2xpZW50WCA9PT0gbmV4dC5jbGllbnRYICYmIHByZXYuY2xpZW50WSA9PT0gbmV4dC5jbGllbnRZO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc3RvcmVGb2N1cyhhY3RpdmVFbGVtZW50LCBjb250YWluZXIpIHtcbiAgLy8gRm9jdXMgYmFjayBpZiBpcyBpbiB0aGUgY29udGFpbmVyXG4gIGlmIChhY3RpdmVFbGVtZW50ICE9PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIGNvbnRhaW5zKGNvbnRhaW5lciwgYWN0aXZlRWxlbWVudCkgJiYgdHlwZW9mIGFjdGl2ZUVsZW1lbnQuZm9jdXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBhY3RpdmVFbGVtZW50LmZvY3VzKCk7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBtb25pdG9yUmVzaXplKGVsZW1lbnQsIGNhbGxiYWNrKSB7XG4gIHZhciBwcmV2V2lkdGggPSBudWxsO1xuICB2YXIgcHJldkhlaWdodCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gb25SZXNpemUoX3JlZikge1xuICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDEpLFxuICAgICAgICB0YXJnZXQgPSBfcmVmMlswXS50YXJnZXQ7XG5cbiAgICBpZiAoIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb250YWlucyh0YXJnZXQpKSByZXR1cm47XG5cbiAgICB2YXIgX3RhcmdldCRnZXRCb3VuZGluZ0NsID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICB3aWR0aCA9IF90YXJnZXQkZ2V0Qm91bmRpbmdDbC53aWR0aCxcbiAgICAgICAgaGVpZ2h0ID0gX3RhcmdldCRnZXRCb3VuZGluZ0NsLmhlaWdodDtcblxuICAgIHZhciBmaXhlZFdpZHRoID0gTWF0aC5mbG9vcih3aWR0aCk7XG4gICAgdmFyIGZpeGVkSGVpZ2h0ID0gTWF0aC5mbG9vcihoZWlnaHQpO1xuXG4gICAgaWYgKHByZXZXaWR0aCAhPT0gZml4ZWRXaWR0aCB8fCBwcmV2SGVpZ2h0ICE9PSBmaXhlZEhlaWdodCkge1xuICAgICAgLy8gaHR0cHM6Ly93ZWJraXQub3JnL2Jsb2cvOTk5Ny9yZXNpemVvYnNlcnZlci1pbi13ZWJraXQvXG4gICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgIHdpZHRoOiBmaXhlZFdpZHRoLFxuICAgICAgICAgIGhlaWdodDogZml4ZWRIZWlnaHRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBwcmV2V2lkdGggPSBmaXhlZFdpZHRoO1xuICAgIHByZXZIZWlnaHQgPSBmaXhlZEhlaWdodDtcbiAgfVxuXG4gIHZhciByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihvblJlc2l6ZSk7XG5cbiAgaWYgKGVsZW1lbnQpIHtcbiAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gIH07XG59IiwiaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5XCI7XG5pbXBvcnQgX3R5cGVvZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mXCI7XG5cbi8qKlxuICogUmVtb3ZlZCBwcm9wczpcbiAqICAtIGNoaWxkcmVuUHJvcHNcbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBvc2VSZWYgfSBmcm9tIFwicmMtdXRpbC9lcy9yZWZcIjtcbmltcG9ydCBpc1Zpc2libGUgZnJvbSBcInJjLXV0aWwvZXMvRG9tL2lzVmlzaWJsZVwiO1xuaW1wb3J0IHsgYWxpZ25FbGVtZW50LCBhbGlnblBvaW50IH0gZnJvbSAnZG9tLWFsaWduJztcbmltcG9ydCBhZGRFdmVudExpc3RlbmVyIGZyb20gXCJyYy11dGlsL2VzL0RvbS9hZGRFdmVudExpc3RlbmVyXCI7XG5pbXBvcnQgaXNFcXVhbCBmcm9tICdsb2Rhc2gvaXNFcXVhbCc7XG5pbXBvcnQgeyBpc1NhbWVQb2ludCwgcmVzdG9yZUZvY3VzLCBtb25pdG9yUmVzaXplIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB1c2VCdWZmZXIgZnJvbSAnLi9ob29rcy91c2VCdWZmZXInO1xuXG5mdW5jdGlvbiBnZXRFbGVtZW50KGZ1bmMpIHtcbiAgaWYgKHR5cGVvZiBmdW5jICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIGZ1bmMoKTtcbn1cblxuZnVuY3Rpb24gZ2V0UG9pbnQocG9pbnQpIHtcbiAgaWYgKF90eXBlb2YocG9pbnQpICE9PSAnb2JqZWN0JyB8fCAhcG9pbnQpIHJldHVybiBudWxsO1xuICByZXR1cm4gcG9pbnQ7XG59XG5cbnZhciBBbGlnbiA9IGZ1bmN0aW9uIEFsaWduKF9yZWYsIHJlZikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgZGlzYWJsZWQgPSBfcmVmLmRpc2FibGVkLFxuICAgICAgdGFyZ2V0ID0gX3JlZi50YXJnZXQsXG4gICAgICBhbGlnbiA9IF9yZWYuYWxpZ24sXG4gICAgICBvbkFsaWduID0gX3JlZi5vbkFsaWduLFxuICAgICAgbW9uaXRvcldpbmRvd1Jlc2l6ZSA9IF9yZWYubW9uaXRvcldpbmRvd1Jlc2l6ZSxcbiAgICAgIF9yZWYkbW9uaXRvckJ1ZmZlclRpbSA9IF9yZWYubW9uaXRvckJ1ZmZlclRpbWUsXG4gICAgICBtb25pdG9yQnVmZmVyVGltZSA9IF9yZWYkbW9uaXRvckJ1ZmZlclRpbSA9PT0gdm9pZCAwID8gMCA6IF9yZWYkbW9uaXRvckJ1ZmZlclRpbTtcbiAgdmFyIGNhY2hlUmVmID0gUmVhY3QudXNlUmVmKHt9KTtcbiAgdmFyIG5vZGVSZWYgPSBSZWFjdC51c2VSZWYoKTtcbiAgdmFyIGNoaWxkTm9kZSA9IFJlYWN0LkNoaWxkcmVuLm9ubHkoY2hpbGRyZW4pOyAvLyA9PT09PT09PT09PT09PT09PT09PT0gQWxpZ24gPT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBXZSBzYXZlIHRoZSBwcm9wcyBoZXJlIHRvIGF2b2lkIGNsb3N1cmUgbWFrZXMgcHJvcHMgb29kXG5cbiAgdmFyIGZvcmNlQWxpZ25Qcm9wc1JlZiA9IFJlYWN0LnVzZVJlZih7fSk7XG4gIGZvcmNlQWxpZ25Qcm9wc1JlZi5jdXJyZW50LmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gIGZvcmNlQWxpZ25Qcm9wc1JlZi5jdXJyZW50LnRhcmdldCA9IHRhcmdldDtcbiAgZm9yY2VBbGlnblByb3BzUmVmLmN1cnJlbnQuYWxpZ24gPSBhbGlnbjtcbiAgZm9yY2VBbGlnblByb3BzUmVmLmN1cnJlbnQub25BbGlnbiA9IG9uQWxpZ247XG5cbiAgdmFyIF91c2VCdWZmZXIgPSB1c2VCdWZmZXIoZnVuY3Rpb24gKCkge1xuICAgIHZhciBfZm9yY2VBbGlnblByb3BzUmVmJGMgPSBmb3JjZUFsaWduUHJvcHNSZWYuY3VycmVudCxcbiAgICAgICAgbGF0ZXN0RGlzYWJsZWQgPSBfZm9yY2VBbGlnblByb3BzUmVmJGMuZGlzYWJsZWQsXG4gICAgICAgIGxhdGVzdFRhcmdldCA9IF9mb3JjZUFsaWduUHJvcHNSZWYkYy50YXJnZXQsXG4gICAgICAgIGxhdGVzdEFsaWduID0gX2ZvcmNlQWxpZ25Qcm9wc1JlZiRjLmFsaWduLFxuICAgICAgICBsYXRlc3RPbkFsaWduID0gX2ZvcmNlQWxpZ25Qcm9wc1JlZiRjLm9uQWxpZ247XG5cbiAgICBpZiAoIWxhdGVzdERpc2FibGVkICYmIGxhdGVzdFRhcmdldCkge1xuICAgICAgdmFyIHNvdXJjZSA9IG5vZGVSZWYuY3VycmVudDtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICB2YXIgZWxlbWVudCA9IGdldEVsZW1lbnQobGF0ZXN0VGFyZ2V0KTtcbiAgICAgIHZhciBwb2ludCA9IGdldFBvaW50KGxhdGVzdFRhcmdldCk7XG4gICAgICBjYWNoZVJlZi5jdXJyZW50LmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgY2FjaGVSZWYuY3VycmVudC5wb2ludCA9IHBvaW50O1xuICAgICAgY2FjaGVSZWYuY3VycmVudC5hbGlnbiA9IGxhdGVzdEFsaWduOyAvLyBJRSBsb3NlIGZvY3VzIGFmdGVyIGVsZW1lbnQgcmVhbGlnblxuICAgICAgLy8gV2Ugc2hvdWxkIHJlY29yZCBhY3RpdmVFbGVtZW50IGFuZCByZXN0b3JlIGxhdGVyXG5cbiAgICAgIC8vIElFIGxvc2UgZm9jdXMgYWZ0ZXIgZWxlbWVudCByZWFsaWduXG4gICAgICAvLyBXZSBzaG91bGQgcmVjb3JkIGFjdGl2ZUVsZW1lbnQgYW5kIHJlc3RvcmUgbGF0ZXJcbiAgICAgIHZhciBfZG9jdW1lbnQgPSBkb2N1bWVudCxcbiAgICAgICAgICBhY3RpdmVFbGVtZW50ID0gX2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7IC8vIFdlIG9ubHkgYWxpZ24gd2hlbiBlbGVtZW50IGlzIHZpc2libGVcblxuICAgICAgLy8gV2Ugb25seSBhbGlnbiB3aGVuIGVsZW1lbnQgaXMgdmlzaWJsZVxuICAgICAgaWYgKGVsZW1lbnQgJiYgaXNWaXNpYmxlKGVsZW1lbnQpKSB7XG4gICAgICAgIHJlc3VsdCA9IGFsaWduRWxlbWVudChzb3VyY2UsIGVsZW1lbnQsIGxhdGVzdEFsaWduKTtcbiAgICAgIH0gZWxzZSBpZiAocG9pbnQpIHtcbiAgICAgICAgcmVzdWx0ID0gYWxpZ25Qb2ludChzb3VyY2UsIHBvaW50LCBsYXRlc3RBbGlnbik7XG4gICAgICB9XG5cbiAgICAgIHJlc3RvcmVGb2N1cyhhY3RpdmVFbGVtZW50LCBzb3VyY2UpO1xuXG4gICAgICBpZiAobGF0ZXN0T25BbGlnbiAmJiByZXN1bHQpIHtcbiAgICAgICAgbGF0ZXN0T25BbGlnbihzb3VyY2UsIHJlc3VsdCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSwgbW9uaXRvckJ1ZmZlclRpbWUpLFxuICAgICAgX3VzZUJ1ZmZlcjIgPSBfc2xpY2VkVG9BcnJheShfdXNlQnVmZmVyLCAyKSxcbiAgICAgIF9mb3JjZUFsaWduID0gX3VzZUJ1ZmZlcjJbMF0sXG4gICAgICBjYW5jZWxGb3JjZUFsaWduID0gX3VzZUJ1ZmZlcjJbMV07IC8vID09PT09PT09PT09PT09PT09PT09PSBFZmZlY3QgPT09PT09PT09PT09PT09PT09PT09XG4gIC8vIExpc3RlbiBmb3IgdGFyZ2V0IHVwZGF0ZWRcblxuXG4gIHZhciByZXNpemVNb25pdG9yID0gUmVhY3QudXNlUmVmKHtcbiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHt9XG4gIH0pOyAvLyBMaXN0ZW4gZm9yIHNvdXJjZSB1cGRhdGVkXG5cbiAgdmFyIHNvdXJjZVJlc2l6ZU1vbml0b3IgPSBSZWFjdC51c2VSZWYoe1xuICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkge31cbiAgfSk7XG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBnZXRFbGVtZW50KHRhcmdldCk7XG4gICAgdmFyIHBvaW50ID0gZ2V0UG9pbnQodGFyZ2V0KTtcblxuICAgIGlmIChub2RlUmVmLmN1cnJlbnQgIT09IHNvdXJjZVJlc2l6ZU1vbml0b3IuY3VycmVudC5lbGVtZW50KSB7XG4gICAgICBzb3VyY2VSZXNpemVNb25pdG9yLmN1cnJlbnQuY2FuY2VsKCk7XG4gICAgICBzb3VyY2VSZXNpemVNb25pdG9yLmN1cnJlbnQuZWxlbWVudCA9IG5vZGVSZWYuY3VycmVudDtcbiAgICAgIHNvdXJjZVJlc2l6ZU1vbml0b3IuY3VycmVudC5jYW5jZWwgPSBtb25pdG9yUmVzaXplKG5vZGVSZWYuY3VycmVudCwgX2ZvcmNlQWxpZ24pO1xuICAgIH1cblxuICAgIGlmIChjYWNoZVJlZi5jdXJyZW50LmVsZW1lbnQgIT09IGVsZW1lbnQgfHwgIWlzU2FtZVBvaW50KGNhY2hlUmVmLmN1cnJlbnQucG9pbnQsIHBvaW50KSB8fCAhaXNFcXVhbChjYWNoZVJlZi5jdXJyZW50LmFsaWduLCBhbGlnbikpIHtcbiAgICAgIF9mb3JjZUFsaWduKCk7IC8vIEFkZCByZXNpemUgb2JzZXJ2ZXJcblxuXG4gICAgICBpZiAocmVzaXplTW9uaXRvci5jdXJyZW50LmVsZW1lbnQgIT09IGVsZW1lbnQpIHtcbiAgICAgICAgcmVzaXplTW9uaXRvci5jdXJyZW50LmNhbmNlbCgpO1xuICAgICAgICByZXNpemVNb25pdG9yLmN1cnJlbnQuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHJlc2l6ZU1vbml0b3IuY3VycmVudC5jYW5jZWwgPSBtb25pdG9yUmVzaXplKGVsZW1lbnQsIF9mb3JjZUFsaWduKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pOyAvLyBMaXN0ZW4gZm9yIGRpc2FibGVkIGNoYW5nZVxuXG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFkaXNhYmxlZCkge1xuICAgICAgX2ZvcmNlQWxpZ24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FuY2VsRm9yY2VBbGlnbigpO1xuICAgIH1cbiAgfSwgW2Rpc2FibGVkXSk7IC8vIExpc3RlbiBmb3Igd2luZG93IHJlc2l6ZVxuXG4gIHZhciB3aW5SZXNpemVSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKG1vbml0b3JXaW5kb3dSZXNpemUpIHtcbiAgICAgIGlmICghd2luUmVzaXplUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgd2luUmVzaXplUmVmLmN1cnJlbnQgPSBhZGRFdmVudExpc3RlbmVyKHdpbmRvdywgJ3Jlc2l6ZScsIF9mb3JjZUFsaWduKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHdpblJlc2l6ZVJlZi5jdXJyZW50KSB7XG4gICAgICB3aW5SZXNpemVSZWYuY3VycmVudC5yZW1vdmUoKTtcbiAgICAgIHdpblJlc2l6ZVJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gIH0sIFttb25pdG9yV2luZG93UmVzaXplXSk7IC8vIENsZWFyIGFsbCBpZiB1bm1vdW50XG5cbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmVzaXplTW9uaXRvci5jdXJyZW50LmNhbmNlbCgpO1xuICAgICAgc291cmNlUmVzaXplTW9uaXRvci5jdXJyZW50LmNhbmNlbCgpO1xuICAgICAgaWYgKHdpblJlc2l6ZVJlZi5jdXJyZW50KSB3aW5SZXNpemVSZWYuY3VycmVudC5yZW1vdmUoKTtcbiAgICAgIGNhbmNlbEZvcmNlQWxpZ24oKTtcbiAgICB9O1xuICB9LCBbXSk7IC8vID09PT09PT09PT09PT09PT09PT09PT0gUmVmID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZm9yY2VBbGlnbjogZnVuY3Rpb24gZm9yY2VBbGlnbigpIHtcbiAgICAgICAgcmV0dXJuIF9mb3JjZUFsaWduKHRydWUpO1xuICAgICAgfVxuICAgIH07XG4gIH0pOyAvLyA9PT09PT09PT09PT09PT09PT09PT0gUmVuZGVyID09PT09PT09PT09PT09PT09PT09PVxuXG4gIGlmICggLyojX19QVVJFX18qL1JlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkTm9kZSkpIHtcbiAgICBjaGlsZE5vZGUgPSAvKiNfX1BVUkVfXyovUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkTm9kZSwge1xuICAgICAgcmVmOiBjb21wb3NlUmVmKGNoaWxkTm9kZS5yZWYsIG5vZGVSZWYpXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gY2hpbGROb2RlO1xufTtcblxudmFyIFJjQWxpZ24gPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihBbGlnbik7XG5SY0FsaWduLmRpc3BsYXlOYW1lID0gJ0FsaWduJztcbmV4cG9ydCBkZWZhdWx0IFJjQWxpZ247IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAoY2FsbGJhY2ssIGJ1ZmZlcikge1xuICB2YXIgY2FsbGVkUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgdmFyIHRpbWVvdXRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG5cbiAgZnVuY3Rpb24gY2FuY2VsVHJpZ2dlcigpIHtcbiAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXRSZWYuY3VycmVudCk7XG4gIH1cblxuICBmdW5jdGlvbiB0cmlnZ2VyKGZvcmNlKSB7XG4gICAgaWYgKCFjYWxsZWRSZWYuY3VycmVudCB8fCBmb3JjZSA9PT0gdHJ1ZSkge1xuICAgICAgaWYgKGNhbGxiYWNrKCkgPT09IGZhbHNlKSB7XG4gICAgICAgIC8vIE5vdCBkZWxheSBzaW5jZSBjYWxsYmFjayBjYW5jZWxsZWQgc2VsZlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNhbGxlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIGNhbmNlbFRyaWdnZXIoKTtcbiAgICAgIHRpbWVvdXRSZWYuY3VycmVudCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIH0sIGJ1ZmZlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbmNlbFRyaWdnZXIoKTtcbiAgICAgIHRpbWVvdXRSZWYuY3VycmVudCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgdHJpZ2dlcigpO1xuICAgICAgfSwgYnVmZmVyKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gW3RyaWdnZXIsIGZ1bmN0aW9uICgpIHtcbiAgICBjYWxsZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgIGNhbmNlbFRyaWdnZXIoKTtcbiAgfV07XG59KTsiLCIvLyBleHBvcnQgdGhpcyBwYWNrYWdlJ3MgYXBpXG5pbXBvcnQgQWxpZ24gZnJvbSAnLi9BbGlnbic7XG5leHBvcnQgZGVmYXVsdCBBbGlnbjsiXSwibmFtZXMiOlsibW9uaXRvclJlc2l6ZSIsImVsZW1lbnQiLCJjYWxsYmFjayIsInByZXZXaWR0aCIsInByZXZIZWlnaHQiLCJyZXNpemVPYnNlcnZlciIsIl9yZWYiLCJ0YXJnZXQiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNvbnRhaW5zIiwiX3RhcmdldCRnZXRCb3VuZGluZ0NsIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJmaXhlZFdpZHRoIiwiTWF0aCIsImZsb29yIiwiZml4ZWRIZWlnaHQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJvYnNlcnZlIiwiZGlzY29ubmVjdCIsImdldEVsZW1lbnQiLCJmdW5jIiwiZ2V0UG9pbnQiLCJwb2ludCIsIkFsaWduIiwicmVmIiwiY2hpbGRyZW4iLCJkaXNhYmxlZCIsImFsaWduIiwib25BbGlnbiIsIm1vbml0b3JXaW5kb3dSZXNpemUiLCJfcmVmJG1vbml0b3JCdWZmZXJUaW0iLCJtb25pdG9yQnVmZmVyVGltZSIsImNhY2hlUmVmIiwibm9kZVJlZiIsImNoaWxkTm9kZSIsImZvcmNlQWxpZ25Qcm9wc1JlZiIsImN1cnJlbnQiLCJfdXNlQnVmZmVyIiwiYnVmZmVyIiwiY2FsbGVkUmVmIiwidGltZW91dFJlZiIsImNhbmNlbFRyaWdnZXIiLCJ3aW5kb3ciLCJjbGVhclRpbWVvdXQiLCJ0cmlnZ2VyIiwiZm9yY2UiLCJzZXRUaW1lb3V0IiwiX2ZvcmNlQWxpZ25Qcm9wc1JlZiRjIiwibGF0ZXN0RGlzYWJsZWQiLCJsYXRlc3RUYXJnZXQiLCJsYXRlc3RBbGlnbiIsImxhdGVzdE9uQWxpZ24iLCJyZXN1bHQiLCJzb3VyY2UiLCJhY3RpdmVFbGVtZW50IiwiaXNWaXNpYmxlIiwiY29udGFpbmVyIiwiZm9jdXMiLCJyZXN0b3JlRm9jdXMiLCJ1c2VCdWZmZXIiLCJfdXNlQnVmZmVyMiIsIl9mb3JjZUFsaWduIiwiY2FuY2VsRm9yY2VBbGlnbiIsInJlc2l6ZU1vbml0b3IiLCJjYW5jZWwiLCJzb3VyY2VSZXNpemVNb25pdG9yIiwicHJldiIsIm5leHQiLCJwYWdlWCIsInBhZ2VZIiwiY2xpZW50WCIsImNsaWVudFkiLCJ3aW5SZXNpemVSZWYiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwiZm9yY2VBbGlnbiIsIlJjQWxpZ24iLCJkaXNwbGF5TmFtZSJdLCJzb3VyY2VSb290IjoiIn0=