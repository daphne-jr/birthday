"use strict";(self.webpackChunkbirthday=self.webpackChunkbirthday||[]).push([[91],{5715:(e,r,t)=>{function n(){return n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},n.apply(this,arguments)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function a(e,r){return a=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e},a(e,r)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function s(e,r,t){return s=u()?Reflect.construct:function(e,r,t){var n=[null];n.push.apply(n,r);var i=new(Function.bind.apply(e,n));return t&&a(i,t.prototype),i},s.apply(null,arguments)}function o(e){var r="function"==typeof Map?new Map:void 0;return o=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return s(e,arguments,i(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)},o(e)}t.d(r,{Z:()=>D});var f=/%[sdj%]/g;function l(e){if(!e||!e.length)return null;var r={};return e.forEach((function(e){var t=e.field;r[t]=r[t]||[],r[t].push(e)})),r}function c(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];var i=0,a=t.length;if("function"==typeof e)return e.apply(null,t);if("string"==typeof e){var u=e.replace(f,(function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(t[i++]);case"%d":return Number(t[i++]);case"%j":try{return JSON.stringify(t[i++])}catch(e){return"[Circular]"}break;default:return e}}));return u}return e}function d(e,r){return null==e||!("array"!==r||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(r)||"string"!=typeof e||e)}function p(e,r,t){var n=0,i=e.length;!function a(u){if(u&&u.length)t(u);else{var s=n;n+=1,s<i?r(e[s],a):t([])}}([])}"undefined"!=typeof process&&process.env;var y=function(e){var r,t;function n(r,t){var n;return(n=e.call(this,"Async Validation Error")||this).errors=r,n.fields=t,n}return t=e,(r=n).prototype=Object.create(t.prototype),r.prototype.constructor=r,a(r,t),n}(o(Error));function h(e,r){return function(t){var n,i;return n=e.fullFields?function(e,r){for(var t=e,n=0;n<r.length;n++){if(null==t)return t;t=t[r[n]]}return t}(r,e.fullFields):r[t.field||e.fullField],(i=t)&&void 0!==i.message?(t.field=t.field||e.fullField,t.fieldValue=n,t):{message:"function"==typeof t?t():t,fieldValue:n,field:t.field||e.fullField}}}function g(e,r){if(r)for(var t in r)if(r.hasOwnProperty(t)){var i=r[t];"object"==typeof i&&"object"==typeof e[t]?e[t]=n({},e[t],i):e[t]=i}return e}var m=function(e,r,t,n,i,a){!e.required||t.hasOwnProperty(e.field)&&!d(r,a||e.type)||n.push(c(i.messages.required,e.fullField))},v={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},b={integer:function(e){return b.number(e)&&parseInt(e,10)===e},float:function(e){return b.number(e)&&!b.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!b.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(v.email)},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(v.url)},hex:function(e){return"string"==typeof e&&!!e.match(v.hex)}},F=m,q=function(e,r,t,n,i){(/^\s+$/.test(r)||""===r)&&n.push(c(i.messages.whitespace,e.fullField))},w=function(e,r,t,n,i){if(e.required&&void 0===r)m(e,r,t,n,i);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?b[a](r)||n.push(c(i.messages.types[a],e.fullField,e.type)):a&&typeof r!==e.type&&n.push(c(i.messages.types[a],e.fullField,e.type))}},O=function(e,r,t,n,i){var a="number"==typeof e.len,u="number"==typeof e.min,s="number"==typeof e.max,o=r,f=null,l="number"==typeof r,d="string"==typeof r,p=Array.isArray(r);if(l?f="number":d?f="string":p&&(f="array"),!f)return!1;p&&(o=r.length),d&&(o=r.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?o!==e.len&&n.push(c(i.messages[f].len,e.fullField,e.len)):u&&!s&&o<e.min?n.push(c(i.messages[f].min,e.fullField,e.min)):s&&!u&&o>e.max?n.push(c(i.messages[f].max,e.fullField,e.max)):u&&s&&(o<e.min||o>e.max)&&n.push(c(i.messages[f].range,e.fullField,e.min,e.max))},x=function(e,r,t,n,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(r)&&n.push(c(i.messages.enum,e.fullField,e.enum.join(", ")))},j=function(e,r,t,n,i){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(r)||n.push(c(i.messages.pattern.mismatch,e.fullField,r,e.pattern))):"string"==typeof e.pattern&&(new RegExp(e.pattern).test(r)||n.push(c(i.messages.pattern.mismatch,e.fullField,r,e.pattern))))},A=function(e,r,t,n,i){var a=e.type,u=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r,a)&&!e.required)return t();F(e,r,n,u,i,a),d(r,a)||w(e,r,n,u,i)}t(u)},P={string:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r,"string")&&!e.required)return t();F(e,r,n,a,i,"string"),d(r,"string")||(w(e,r,n,a,i),O(e,r,n,a,i),j(e,r,n,a,i),!0===e.whitespace&&q(e,r,n,a,i))}t(a)},method:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r)&&!e.required)return t();F(e,r,n,a,i),void 0!==r&&w(e,r,n,a,i)}t(a)},number:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(""===r&&(r=void 0),d(r)&&!e.required)return t();F(e,r,n,a,i),void 0!==r&&(w(e,r,n,a,i),O(e,r,n,a,i))}t(a)},boolean:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r)&&!e.required)return t();F(e,r,n,a,i),void 0!==r&&w(e,r,n,a,i)}t(a)},regexp:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r)&&!e.required)return t();F(e,r,n,a,i),d(r)||w(e,r,n,a,i)}t(a)},integer:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r)&&!e.required)return t();F(e,r,n,a,i),void 0!==r&&(w(e,r,n,a,i),O(e,r,n,a,i))}t(a)},float:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r)&&!e.required)return t();F(e,r,n,a,i),void 0!==r&&(w(e,r,n,a,i),O(e,r,n,a,i))}t(a)},array:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(null==r&&!e.required)return t();F(e,r,n,a,i,"array"),null!=r&&(w(e,r,n,a,i),O(e,r,n,a,i))}t(a)},object:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r)&&!e.required)return t();F(e,r,n,a,i),void 0!==r&&w(e,r,n,a,i)}t(a)},enum:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r)&&!e.required)return t();F(e,r,n,a,i),void 0!==r&&x(e,r,n,a,i)}t(a)},pattern:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r,"string")&&!e.required)return t();F(e,r,n,a,i),d(r,"string")||j(e,r,n,a,i)}t(a)},date:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r,"date")&&!e.required)return t();var u;F(e,r,n,a,i),d(r,"date")||(u=r instanceof Date?r:new Date(r),w(e,u,n,a,i),u&&O(e,u.getTime(),n,a,i))}t(a)},url:A,hex:A,email:A,required:function(e,r,t,n,i){var a=[],u=Array.isArray(r)?"array":typeof r;F(e,r,n,a,i,u),t(a)},any:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r)&&!e.required)return t();F(e,r,n,a,i)}t(a)}};function E(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var k=E(),D=function(){function e(e){this.rules=null,this._messages=k,this.define(e)}var r=e.prototype;return r.define=function(e){var r=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(t){var n=e[t];r.rules[t]=Array.isArray(n)?n:[n]}))},r.messages=function(e){return e&&(this._messages=g(E(),e)),this._messages},r.validate=function(r,t,i){var a=this;void 0===t&&(t={}),void 0===i&&(i=function(){});var u=r,s=t,o=i;if("function"==typeof s&&(o=s,s={}),!this.rules||0===Object.keys(this.rules).length)return o&&o(null,u),Promise.resolve(u);if(s.messages){var f=this.messages();f===k&&(f=E()),g(f,s.messages),s.messages=f}else s.messages=this.messages();var d={};(s.keys||Object.keys(this.rules)).forEach((function(e){var t=a.rules[e],i=u[e];t.forEach((function(t){var s=t;"function"==typeof s.transform&&(u===r&&(u=n({},u)),i=u[e]=s.transform(i)),(s="function"==typeof s?{validator:s}:n({},s)).validator=a.getValidationMethod(s),s.validator&&(s.field=e,s.fullField=s.fullField||e,s.type=a.getType(s),d[e]=d[e]||[],d[e].push({rule:s,value:i,source:u,field:e}))}))}));var m={};return function(e,r,t,n,i){if(r.first){var a=new Promise((function(r,a){var u=function(e){var r=[];return Object.keys(e).forEach((function(t){r.push.apply(r,e[t]||[])})),r}(e);p(u,t,(function(e){return n(e),e.length?a(new y(e,l(e))):r(i)}))}));return a.catch((function(e){return e})),a}var u=!0===r.firstFields?Object.keys(e):r.firstFields||[],s=Object.keys(e),o=s.length,f=0,c=[],d=new Promise((function(r,a){var d=function(e){if(c.push.apply(c,e),++f===o)return n(c),c.length?a(new y(c,l(c))):r(i)};s.length||(n(c),r(i)),s.forEach((function(r){var n=e[r];-1!==u.indexOf(r)?p(n,t,d):function(e,r,t){var n=[],i=0,a=e.length;function u(e){n.push.apply(n,e||[]),++i===a&&t(n)}e.forEach((function(e){r(e,u)}))}(n,t,d)}))}));return d.catch((function(e){return e})),d}(d,s,(function(r,t){var i,a=r.rule,o=!("object"!==a.type&&"array"!==a.type||"object"!=typeof a.fields&&"object"!=typeof a.defaultField);function f(e,r){return n({},r,{fullField:a.fullField+"."+e,fullFields:a.fullFields?[].concat(a.fullFields,[e]):[e]})}function l(i){void 0===i&&(i=[]);var l=Array.isArray(i)?i:[i];!s.suppressWarning&&l.length&&e.warning("async-validator:",l),l.length&&void 0!==a.message&&(l=[].concat(a.message));var d=l.map(h(a,u));if(s.first&&d.length)return m[a.field]=1,t(d);if(o){if(a.required&&!r.value)return void 0!==a.message?d=[].concat(a.message).map(h(a,u)):s.error&&(d=[s.error(a,c(s.messages.required,a.field))]),t(d);var p={};a.defaultField&&Object.keys(r.value).map((function(e){p[e]=a.defaultField})),p=n({},p,r.rule.fields);var y={};Object.keys(p).forEach((function(e){var r=p[e],t=Array.isArray(r)?r:[r];y[e]=t.map(f.bind(null,e))}));var g=new e(y);g.messages(s.messages),r.rule.options&&(r.rule.options.messages=s.messages,r.rule.options.error=s.error),g.validate(r.value,r.rule.options||s,(function(e){var r=[];d&&d.length&&r.push.apply(r,d),e&&e.length&&r.push.apply(r,e),t(r.length?r:null)}))}else t(d)}o=o&&(a.required||!a.required&&r.value),a.field=r.field,a.asyncValidator?i=a.asyncValidator(a,r.value,l,r.source,s):a.validator&&(!0===(i=a.validator(a,r.value,l,r.source,s))?l():!1===i?l("function"==typeof a.message?a.message(a.fullField||a.field):a.message||(a.fullField||a.field)+" fails"):i instanceof Array?l(i):i instanceof Error&&l(i.message)),i&&i.then&&i.then((function(){return l()}),(function(e){return l(e)}))}),(function(e){!function(e){for(var r,t,n=[],i={},a=0;a<e.length;a++)r=e[a],t=void 0,Array.isArray(r)?n=(t=n).concat.apply(t,r):n.push(r);n.length?(i=l(n),o(n,i)):o(null,u)}(e)}),u)},r.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!P.hasOwnProperty(e.type))throw new Error(c("Unknown rule type %s",e.type));return e.type||"string"},r.getValidationMethod=function(e){if("function"==typeof e.validator)return e.validator;var r=Object.keys(e),t=r.indexOf("message");return-1!==t&&r.splice(t,1),1===r.length&&"required"===r[0]?P.required:P[this.getType(e)]||void 0},e}();D.register=function(e,r){if("function"!=typeof r)throw new Error("Cannot register a validator by type, validator is not a function");P[e]=r},D.warning=function(){},D.messages=k,D.validators=P}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdGljL2pzL25wbS5hc3luYy12YWxpZGF0b3JfYWQyMmZkNDY2YmUxODc1NmM1NTEuanMiLCJtYXBwaW5ncyI6ImtHQUFBLFNBQVNBLElBZVAsT0FkQUEsRUFBV0MsT0FBT0MsUUFBVSxTQUFVQyxHQUNwQyxJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSUMsVUFBVUMsT0FBUUYsSUFBSyxDQUN6QyxJQUFJRyxFQUFTRixVQUFVRCxHQUV2QixJQUFLLElBQUlJLEtBQU9ELEVBQ1ZOLE9BQU9RLFVBQVVDLGVBQWVDLEtBQUtKLEVBQVFDLEtBQy9DTCxFQUFPSyxHQUFPRCxFQUFPQyxJQUszQixPQUFPTCxHQUdGSCxFQUFTWSxNQUFNQyxLQUFNUixXQVU5QixTQUFTUyxFQUFnQkMsR0FJdkIsT0FIQUQsRUFBa0JiLE9BQU9lLGVBQWlCZixPQUFPZ0IsZUFBaUIsU0FBeUJGLEdBQ3pGLE9BQU9BLEVBQUVHLFdBQWFqQixPQUFPZ0IsZUFBZUYsSUFFdkNELEVBQWdCQyxHQUd6QixTQUFTSSxFQUFnQkosRUFBR0ssR0FNMUIsT0FMQUQsRUFBa0JsQixPQUFPZSxnQkFBa0IsU0FBeUJELEVBQUdLLEdBRXJFLE9BREFMLEVBQUVHLFVBQVlFLEVBQ1BMLEdBR0ZJLEVBQWdCSixFQUFHSyxHQUc1QixTQUFTQyxJQUNQLEdBQXVCLG9CQUFaQyxVQUE0QkEsUUFBUUMsVUFBVyxPQUFPLEVBQ2pFLEdBQUlELFFBQVFDLFVBQVVDLEtBQU0sT0FBTyxFQUNuQyxHQUFxQixtQkFBVkMsTUFBc0IsT0FBTyxFQUV4QyxJQUVFLE9BREFDLFFBQVFqQixVQUFVa0IsUUFBUWhCLEtBQUtXLFFBQVFDLFVBQVVHLFFBQVMsSUFBSSxpQkFDdkQsRUFDUCxNQUFPRSxHQUNQLE9BQU8sR0FJWCxTQUFTQyxFQUFXQyxFQUFRQyxFQUFNQyxHQWNoQyxPQVpFSCxFQURFUixJQUNXQyxRQUFRQyxVQUVSLFNBQW9CTyxFQUFRQyxFQUFNQyxHQUM3QyxJQUFJQyxFQUFJLENBQUMsTUFDVEEsRUFBRUMs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bEMsU0FHYmtDLEVBQVdySSxLQUFLb0ssUUFBUS9FLFVBQVV6RCxHQUdwQ21ILEVBNVNpQixHQStTMUJBLEVBQU9tRSxTQUFXLFNBQWtCakosRUFBTWlHLEdBQ3hDLEdBQXlCLG1CQUFkQSxFQUNULE1BQU0sSUFBSS9FLE1BQU0sb0VBR2xCa0QsRUFBV3BFLEdBQVFpRyxHQUdyQm5CLEVBQU9vRCxRQWhvQ08sYUFpb0NkcEQsRUFBTzNDLFNBQVdBLEVBQ2xCMkMsRUFBT1YsV0FBYUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iaXJ0aGRheS8uL25vZGVfbW9kdWxlcy9hc3luYy12YWxpZGF0b3IvZGlzdC13ZWIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuXG4gIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG59XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtcbiAgfTtcbiAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTtcbn1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9O1xuXG4gIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG59XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTtcbiAgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTtcbiAgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTtcblxuICB0cnkge1xuICAgIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHtcbiAgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkge1xuICAgIF9jb25zdHJ1Y3QgPSBSZWZsZWN0LmNvbnN0cnVjdDtcbiAgfSBlbHNlIHtcbiAgICBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgICB2YXIgYSA9IFtudWxsXTtcbiAgICAgIGEucHVzaC5hcHBseShhLCBhcmdzKTtcbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTtcbiAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpO1xuICAgICAgaWYgKENsYXNzKSBfc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uKGZuKSB7XG4gIHJldHVybiBGdW5jdGlvbi50b1N0cmluZy5jYWxsKGZuKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSAhPT0gLTE7XG59XG5cbmZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgdmFyIF9jYWNoZSA9IHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDtcblxuICBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykge1xuICAgIGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7XG5cbiAgICBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIF9jYWNoZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7XG5cbiAgICAgIF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFdyYXBwZXIoKSB7XG4gICAgICByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpO1xuICAgIH1cblxuICAgIFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBXcmFwcGVyLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpO1xuICB9O1xuXG4gIHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTtcbn1cblxuLyogZXNsaW50IG5vLWNvbnNvbGU6MCAqL1xudmFyIGZvcm1hdFJlZ0V4cCA9IC8lW3NkaiVdL2c7XG52YXIgd2FybmluZyA9IGZ1bmN0aW9uIHdhcm5pbmcoKSB7fTsgLy8gZG9uJ3QgcHJpbnQgd2FybmluZyBtZXNzYWdlIHdoZW4gaW4gcHJvZHVjdGlvbiBlbnYgb3Igbm9kZSBydW50aW1lXG5cbmlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5lbnYgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gIHdhcm5pbmcgPSBmdW5jdGlvbiB3YXJuaW5nKHR5cGUsIGVycm9ycykge1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZS53YXJuICYmIHR5cGVvZiBBU1lOQ19WQUxJREFUT1JfTk9fV0FSTklORyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChlcnJvcnMuZXZlcnkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBlID09PSAnc3RyaW5nJztcbiAgICAgIH0pKSB7XG4gICAgICAgIGNvbnNvbGUud2Fybih0eXBlLCBlcnJvcnMpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gY29udmVydEZpZWxkc0Vycm9yKGVycm9ycykge1xuICBpZiAoIWVycm9ycyB8fCAhZXJyb3JzLmxlbmd0aCkgcmV0dXJuIG51bGw7XG4gIHZhciBmaWVsZHMgPSB7fTtcbiAgZXJyb3JzLmZvckVhY2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgdmFyIGZpZWxkID0gZXJyb3IuZmllbGQ7XG4gICAgZmllbGRzW2ZpZWxkXSA9IGZpZWxkc1tmaWVsZF0gfHwgW107XG4gICAgZmllbGRzW2ZpZWxkXS5wdXNoKGVycm9yKTtcbiAgfSk7XG4gIHJldHVybiBmaWVsZHM7XG59XG5mdW5jdGlvbiBmb3JtYXQodGVtcGxhdGUpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgdmFyIGkgPSAwO1xuICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG5cbiAgaWYgKHR5cGVvZiB0ZW1wbGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0ZW1wbGF0ZS5hcHBseShudWxsLCBhcmdzKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdGVtcGxhdGUgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFyIHN0ciA9IHRlbXBsYXRlLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbiAoeCkge1xuICAgICAgaWYgKHggPT09ICclJScpIHtcbiAgICAgICAgcmV0dXJuICclJztcbiAgICAgIH1cblxuICAgICAgaWYgKGkgPj0gbGVuKSB7XG4gICAgICAgIHJldHVybiB4O1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKHgpIHtcbiAgICAgICAgY2FzZSAnJXMnOlxuICAgICAgICAgIHJldHVybiBTdHJpbmcoYXJnc1tpKytdKTtcblxuICAgICAgICBjYXNlICclZCc6XG4gICAgICAgICAgcmV0dXJuIE51bWJlcihhcmdzW2krK10pO1xuXG4gICAgICAgIGNhc2UgJyVqJzpcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgICAgcmV0dXJuICdbQ2lyY3VsYXJdJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB4O1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzdHI7XG4gIH1cblxuICByZXR1cm4gdGVtcGxhdGU7XG59XG5cbmZ1bmN0aW9uIGlzTmF0aXZlU3RyaW5nVHlwZSh0eXBlKSB7XG4gIHJldHVybiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAndXJsJyB8fCB0eXBlID09PSAnaGV4JyB8fCB0eXBlID09PSAnZW1haWwnIHx8IHR5cGUgPT09ICdkYXRlJyB8fCB0eXBlID09PSAncGF0dGVybic7XG59XG5cbmZ1bmN0aW9uIGlzRW1wdHlWYWx1ZSh2YWx1ZSwgdHlwZSkge1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGUgPT09ICdhcnJheScgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgIXZhbHVlLmxlbmd0aCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKGlzTmF0aXZlU3RyaW5nVHlwZSh0eXBlKSAmJiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmICF2YWx1ZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBhc3luY1BhcmFsbGVsQXJyYXkoYXJyLCBmdW5jLCBjYWxsYmFjaykge1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuICB2YXIgdG90YWwgPSAwO1xuICB2YXIgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aDtcblxuICBmdW5jdGlvbiBjb3VudChlcnJvcnMpIHtcbiAgICByZXN1bHRzLnB1c2guYXBwbHkocmVzdWx0cywgZXJyb3JzIHx8IFtdKTtcbiAgICB0b3RhbCsrO1xuXG4gICAgaWYgKHRvdGFsID09PSBhcnJMZW5ndGgpIHtcbiAgICAgIGNhbGxiYWNrKHJlc3VsdHMpO1xuICAgIH1cbiAgfVxuXG4gIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7XG4gICAgZnVuYyhhLCBjb3VudCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhc3luY1NlcmlhbEFycmF5KGFyciwgZnVuYywgY2FsbGJhY2spIHtcbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGg7XG5cbiAgZnVuY3Rpb24gbmV4dChlcnJvcnMpIHtcbiAgICBpZiAoZXJyb3JzICYmIGVycm9ycy5sZW5ndGgpIHtcbiAgICAgIGNhbGxiYWNrKGVycm9ycyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG9yaWdpbmFsID0gaW5kZXg7XG4gICAgaW5kZXggPSBpbmRleCArIDE7XG5cbiAgICBpZiAob3JpZ2luYWwgPCBhcnJMZW5ndGgpIHtcbiAgICAgIGZ1bmMoYXJyW29yaWdpbmFsXSwgbmV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKFtdKTtcbiAgICB9XG4gIH1cblxuICBuZXh0KFtdKTtcbn1cblxuZnVuY3Rpb24gZmxhdHRlbk9iakFycihvYmpBcnIpIHtcbiAgdmFyIHJldCA9IFtdO1xuICBPYmplY3Qua2V5cyhvYmpBcnIpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICByZXQucHVzaC5hcHBseShyZXQsIG9iakFycltrXSB8fCBbXSk7XG4gIH0pO1xuICByZXR1cm4gcmV0O1xufVxuXG52YXIgQXN5bmNWYWxpZGF0aW9uRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FcnJvcikge1xuICBfaW5oZXJpdHNMb29zZShBc3luY1ZhbGlkYXRpb25FcnJvciwgX0Vycm9yKTtcblxuICBmdW5jdGlvbiBBc3luY1ZhbGlkYXRpb25FcnJvcihlcnJvcnMsIGZpZWxkcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX0Vycm9yLmNhbGwodGhpcywgJ0FzeW5jIFZhbGlkYXRpb24gRXJyb3InKSB8fCB0aGlzO1xuICAgIF90aGlzLmVycm9ycyA9IGVycm9ycztcbiAgICBfdGhpcy5maWVsZHMgPSBmaWVsZHM7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgcmV0dXJuIEFzeW5jVmFsaWRhdGlvbkVycm9yO1xufSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoRXJyb3IpKTtcbmZ1bmN0aW9uIGFzeW5jTWFwKG9iakFyciwgb3B0aW9uLCBmdW5jLCBjYWxsYmFjaywgc291cmNlKSB7XG4gIGlmIChvcHRpb24uZmlyc3QpIHtcbiAgICB2YXIgX3BlbmRpbmcgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgbmV4dCA9IGZ1bmN0aW9uIG5leHQoZXJyb3JzKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycm9ycyk7XG4gICAgICAgIHJldHVybiBlcnJvcnMubGVuZ3RoID8gcmVqZWN0KG5ldyBBc3luY1ZhbGlkYXRpb25FcnJvcihlcnJvcnMsIGNvbnZlcnRGaWVsZHNFcnJvcihlcnJvcnMpKSkgOiByZXNvbHZlKHNvdXJjZSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZmxhdHRlbkFyciA9IGZsYXR0ZW5PYmpBcnIob2JqQXJyKTtcbiAgICAgIGFzeW5jU2VyaWFsQXJyYXkoZmxhdHRlbkFyciwgZnVuYywgbmV4dCk7XG4gICAgfSk7XG5cbiAgICBfcGVuZGluZ1tcImNhdGNoXCJdKGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZTtcbiAgICB9KTtcblxuICAgIHJldHVybiBfcGVuZGluZztcbiAgfVxuXG4gIHZhciBmaXJzdEZpZWxkcyA9IG9wdGlvbi5maXJzdEZpZWxkcyA9PT0gdHJ1ZSA/IE9iamVjdC5rZXlzKG9iakFycikgOiBvcHRpb24uZmlyc3RGaWVsZHMgfHwgW107XG4gIHZhciBvYmpBcnJLZXlzID0gT2JqZWN0LmtleXMob2JqQXJyKTtcbiAgdmFyIG9iakFyckxlbmd0aCA9IG9iakFycktleXMubGVuZ3RoO1xuICB2YXIgdG90YWwgPSAwO1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuICB2YXIgcGVuZGluZyA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgbmV4dCA9IGZ1bmN0aW9uIG5leHQoZXJyb3JzKSB7XG4gICAgICByZXN1bHRzLnB1c2guYXBwbHkocmVzdWx0cywgZXJyb3JzKTtcbiAgICAgIHRvdGFsKys7XG5cbiAgICAgIGlmICh0b3RhbCA9PT0gb2JqQXJyTGVuZ3RoKSB7XG4gICAgICAgIGNhbGxiYWNrKHJlc3VsdHMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0cy5sZW5ndGggPyByZWplY3QobmV3IEFzeW5jVmFsaWRhdGlvbkVycm9yKHJlc3VsdHMsIGNvbnZlcnRGaWVsZHNFcnJvcihyZXN1bHRzKSkpIDogcmVzb2x2ZShzb3VyY2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoIW9iakFycktleXMubGVuZ3RoKSB7XG4gICAgICBjYWxsYmFjayhyZXN1bHRzKTtcbiAgICAgIHJlc29sdmUoc291cmNlKTtcbiAgICB9XG5cbiAgICBvYmpBcnJLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIGFyciA9IG9iakFycltrZXldO1xuXG4gICAgICBpZiAoZmlyc3RGaWVsZHMuaW5kZXhPZihrZXkpICE9PSAtMSkge1xuICAgICAgICBhc3luY1NlcmlhbEFycmF5KGFyciwgZnVuYywgbmV4dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhc3luY1BhcmFsbGVsQXJyYXkoYXJyLCBmdW5jLCBuZXh0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHBlbmRpbmdbXCJjYXRjaFwiXShmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiBlO1xuICB9KTtcbiAgcmV0dXJuIHBlbmRpbmc7XG59XG5cbmZ1bmN0aW9uIGlzRXJyb3JPYmoob2JqKSB7XG4gIHJldHVybiAhIShvYmogJiYgb2JqLm1lc3NhZ2UgIT09IHVuZGVmaW5lZCk7XG59XG5cbmZ1bmN0aW9uIGdldFZhbHVlKHZhbHVlLCBwYXRoKSB7XG4gIHZhciB2ID0gdmFsdWU7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHYgPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdjtcbiAgICB9XG5cbiAgICB2ID0gdltwYXRoW2ldXTtcbiAgfVxuXG4gIHJldHVybiB2O1xufVxuXG5mdW5jdGlvbiBjb21wbGVtZW50RXJyb3IocnVsZSwgc291cmNlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAob2UpIHtcbiAgICB2YXIgZmllbGRWYWx1ZTtcblxuICAgIGlmIChydWxlLmZ1bGxGaWVsZHMpIHtcbiAgICAgIGZpZWxkVmFsdWUgPSBnZXRWYWx1ZShzb3VyY2UsIHJ1bGUuZnVsbEZpZWxkcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpZWxkVmFsdWUgPSBzb3VyY2Vbb2UuZmllbGQgfHwgcnVsZS5mdWxsRmllbGRdO1xuICAgIH1cblxuICAgIGlmIChpc0Vycm9yT2JqKG9lKSkge1xuICAgICAgb2UuZmllbGQgPSBvZS5maWVsZCB8fCBydWxlLmZ1bGxGaWVsZDtcbiAgICAgIG9lLmZpZWxkVmFsdWUgPSBmaWVsZFZhbHVlO1xuICAgICAgcmV0dXJuIG9lO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBtZXNzYWdlOiB0eXBlb2Ygb2UgPT09ICdmdW5jdGlvbicgPyBvZSgpIDogb2UsXG4gICAgICBmaWVsZFZhbHVlOiBmaWVsZFZhbHVlLFxuICAgICAgZmllbGQ6IG9lLmZpZWxkIHx8IHJ1bGUuZnVsbEZpZWxkXG4gICAgfTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGRlZXBNZXJnZSh0YXJnZXQsIHNvdXJjZSkge1xuICBpZiAoc291cmNlKSB7XG4gICAgZm9yICh2YXIgcyBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkocykpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gc291cmNlW3NdO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB0YXJnZXRbc10gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgdGFyZ2V0W3NdID0gX2V4dGVuZHMoe30sIHRhcmdldFtzXSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhcmdldFtzXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxudmFyIHJlcXVpcmVkJDEgPSBmdW5jdGlvbiByZXF1aXJlZChydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMsIHR5cGUpIHtcbiAgaWYgKHJ1bGUucmVxdWlyZWQgJiYgKCFzb3VyY2UuaGFzT3duUHJvcGVydHkocnVsZS5maWVsZCkgfHwgaXNFbXB0eVZhbHVlKHZhbHVlLCB0eXBlIHx8IHJ1bGUudHlwZSkpKSB7XG4gICAgZXJyb3JzLnB1c2goZm9ybWF0KG9wdGlvbnMubWVzc2FnZXMucmVxdWlyZWQsIHJ1bGUuZnVsbEZpZWxkKSk7XG4gIH1cbn07XG5cbi8qKlxuICogIFJ1bGUgZm9yIHZhbGlkYXRpbmcgd2hpdGVzcGFjZS5cbiAqXG4gKiAgQHBhcmFtIHJ1bGUgVGhlIHZhbGlkYXRpb24gcnVsZS5cbiAqICBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBmaWVsZCBvbiB0aGUgc291cmNlIG9iamVjdC5cbiAqICBAcGFyYW0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IGJlaW5nIHZhbGlkYXRlZC5cbiAqICBAcGFyYW0gZXJyb3JzIEFuIGFycmF5IG9mIGVycm9ycyB0aGF0IHRoaXMgcnVsZSBtYXkgYWRkXG4gKiAgdmFsaWRhdGlvbiBlcnJvcnMgdG8uXG4gKiAgQHBhcmFtIG9wdGlvbnMgVGhlIHZhbGlkYXRpb24gb3B0aW9ucy5cbiAqICBAcGFyYW0gb3B0aW9ucy5tZXNzYWdlcyBUaGUgdmFsaWRhdGlvbiBtZXNzYWdlcy5cbiAqL1xuXG52YXIgd2hpdGVzcGFjZSA9IGZ1bmN0aW9uIHdoaXRlc3BhY2UocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKSB7XG4gIGlmICgvXlxccyskLy50ZXN0KHZhbHVlKSB8fCB2YWx1ZSA9PT0gJycpIHtcbiAgICBlcnJvcnMucHVzaChmb3JtYXQob3B0aW9ucy5tZXNzYWdlcy53aGl0ZXNwYWNlLCBydWxlLmZ1bGxGaWVsZCkpO1xuICB9XG59O1xuXG4vKiBlc2xpbnQgbWF4LWxlbjowICovXG5cbnZhciBwYXR0ZXJuJDIgPSB7XG4gIC8vIGh0dHA6Ly9lbWFpbHJlZ2V4LmNvbS9cbiAgZW1haWw6IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOVxcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0rXFwuKStbYS16QS1aXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXXsyLH0pKSQvLFxuICB1cmw6IG5ldyBSZWdFeHAoXCJeKD8hbWFpbHRvOikoPzooPzpodHRwfGh0dHBzfGZ0cCk6Ly98Ly8pKD86XFxcXFMrKD86OlxcXFxTKik/QCk/KD86KD86KD86WzEtOV1cXFxcZD98MVxcXFxkXFxcXGR8MlswMV1cXFxcZHwyMlswLTNdKSg/OlxcXFwuKD86MT9cXFxcZHsxLDJ9fDJbMC00XVxcXFxkfDI1WzAtNV0pKXsyfSg/OlxcXFwuKD86WzAtOV1cXFxcZD98MVxcXFxkXFxcXGR8MlswLTRdXFxcXGR8MjVbMC00XSkpfCg/Oig/OlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XSstKikqW2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldKykoPzpcXFxcLig/OlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XSstKikqW2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldKykqKD86XFxcXC4oPzpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZl17Mix9KSkpfGxvY2FsaG9zdCkoPzo6XFxcXGR7Miw1fSk/KD86KC98XFxcXD98IylbXlxcXFxzXSopPyRcIiwgJ2knKSxcbiAgaGV4OiAvXiM/KFthLWYwLTldezZ9fFthLWYwLTldezN9KSQvaVxufTtcbnZhciB0eXBlcyA9IHtcbiAgaW50ZWdlcjogZnVuY3Rpb24gaW50ZWdlcih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlcy5udW1iZXIodmFsdWUpICYmIHBhcnNlSW50KHZhbHVlLCAxMCkgPT09IHZhbHVlO1xuICB9LFxuICBcImZsb2F0XCI6IGZ1bmN0aW9uIGZsb2F0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVzLm51bWJlcih2YWx1ZSkgJiYgIXR5cGVzLmludGVnZXIodmFsdWUpO1xuICB9LFxuICBhcnJheTogZnVuY3Rpb24gYXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG4gIH0sXG4gIHJlZ2V4cDogZnVuY3Rpb24gcmVnZXhwKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuICEhbmV3IFJlZ0V4cCh2YWx1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgZGF0ZTogZnVuY3Rpb24gZGF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUuZ2V0VGltZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUuZ2V0TW9udGggPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlLmdldFllYXIgPT09ICdmdW5jdGlvbicgJiYgIWlzTmFOKHZhbHVlLmdldFRpbWUoKSk7XG4gIH0sXG4gIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKHZhbHVlKSB7XG4gICAgaWYgKGlzTmFOKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInO1xuICB9LFxuICBvYmplY3Q6IGZ1bmN0aW9uIG9iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmICF0eXBlcy5hcnJheSh2YWx1ZSk7XG4gIH0sXG4gIG1ldGhvZDogZnVuY3Rpb24gbWV0aG9kKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbiAgfSxcbiAgZW1haWw6IGZ1bmN0aW9uIGVtYWlsKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUubGVuZ3RoIDw9IDMyMCAmJiAhIXZhbHVlLm1hdGNoKHBhdHRlcm4kMi5lbWFpbCk7XG4gIH0sXG4gIHVybDogZnVuY3Rpb24gdXJsKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUubGVuZ3RoIDw9IDIwNDggJiYgISF2YWx1ZS5tYXRjaChwYXR0ZXJuJDIudXJsKTtcbiAgfSxcbiAgaGV4OiBmdW5jdGlvbiBoZXgodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiAhIXZhbHVlLm1hdGNoKHBhdHRlcm4kMi5oZXgpO1xuICB9XG59O1xuXG52YXIgdHlwZSQxID0gZnVuY3Rpb24gdHlwZShydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpIHtcbiAgaWYgKHJ1bGUucmVxdWlyZWQgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJlcXVpcmVkJDEocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY3VzdG9tID0gWydpbnRlZ2VyJywgJ2Zsb2F0JywgJ2FycmF5JywgJ3JlZ2V4cCcsICdvYmplY3QnLCAnbWV0aG9kJywgJ2VtYWlsJywgJ251bWJlcicsICdkYXRlJywgJ3VybCcsICdoZXgnXTtcbiAgdmFyIHJ1bGVUeXBlID0gcnVsZS50eXBlO1xuXG4gIGlmIChjdXN0b20uaW5kZXhPZihydWxlVHlwZSkgPiAtMSkge1xuICAgIGlmICghdHlwZXNbcnVsZVR5cGVdKHZhbHVlKSkge1xuICAgICAgZXJyb3JzLnB1c2goZm9ybWF0KG9wdGlvbnMubWVzc2FnZXMudHlwZXNbcnVsZVR5cGVdLCBydWxlLmZ1bGxGaWVsZCwgcnVsZS50eXBlKSk7XG4gICAgfSAvLyBzdHJhaWdodCB0eXBlb2YgY2hlY2tcblxuICB9IGVsc2UgaWYgKHJ1bGVUeXBlICYmIHR5cGVvZiB2YWx1ZSAhPT0gcnVsZS50eXBlKSB7XG4gICAgZXJyb3JzLnB1c2goZm9ybWF0KG9wdGlvbnMubWVzc2FnZXMudHlwZXNbcnVsZVR5cGVdLCBydWxlLmZ1bGxGaWVsZCwgcnVsZS50eXBlKSk7XG4gIH1cbn07XG5cbnZhciByYW5nZSA9IGZ1bmN0aW9uIHJhbmdlKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucykge1xuICB2YXIgbGVuID0gdHlwZW9mIHJ1bGUubGVuID09PSAnbnVtYmVyJztcbiAgdmFyIG1pbiA9IHR5cGVvZiBydWxlLm1pbiA9PT0gJ251bWJlcic7XG4gIHZhciBtYXggPSB0eXBlb2YgcnVsZS5tYXggPT09ICdudW1iZXInOyAvLyDmraPliJnljLnphY3noIHngrnojIPlm7Tku45VKzAxMDAwMOS4gOebtOWIsFUrMTBGRkZG55qE5paH5a2X77yI6KGl5YWF5bmz6Z2iU3VwcGxlbWVudGFyeSBQbGFuZe+8iVxuXG4gIHZhciBzcFJlZ2V4cCA9IC9bXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZdL2c7XG4gIHZhciB2YWwgPSB2YWx1ZTtcbiAgdmFyIGtleSA9IG51bGw7XG4gIHZhciBudW0gPSB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInO1xuICB2YXIgc3RyID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcbiAgdmFyIGFyciA9IEFycmF5LmlzQXJyYXkodmFsdWUpO1xuXG4gIGlmIChudW0pIHtcbiAgICBrZXkgPSAnbnVtYmVyJztcbiAgfSBlbHNlIGlmIChzdHIpIHtcbiAgICBrZXkgPSAnc3RyaW5nJztcbiAgfSBlbHNlIGlmIChhcnIpIHtcbiAgICBrZXkgPSAnYXJyYXknO1xuICB9IC8vIGlmIHRoZSB2YWx1ZSBpcyBub3Qgb2YgYSBzdXBwb3J0ZWQgdHlwZSBmb3IgcmFuZ2UgdmFsaWRhdGlvblxuICAvLyB0aGUgdmFsaWRhdGlvbiBydWxlIHJ1bGUgc2hvdWxkIHVzZSB0aGVcbiAgLy8gdHlwZSBwcm9wZXJ0eSB0byBhbHNvIHRlc3QgZm9yIGEgcGFydGljdWxhciB0eXBlXG5cblxuICBpZiAoIWtleSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChhcnIpIHtcbiAgICB2YWwgPSB2YWx1ZS5sZW5ndGg7XG4gIH1cblxuICBpZiAoc3RyKSB7XG4gICAgLy8g5aSE55CG56CB54K55aSn5LqOVSswMTAwMDDnmoTmloflrZdsZW5ndGjlsZ7mgKfkuI3lh4bnoa7nmoRidWfvvIzlpoJcIvCgrrfwoK638KCut1wiLmxlbmdodCAhPT0gM1xuICAgIHZhbCA9IHZhbHVlLnJlcGxhY2Uoc3BSZWdleHAsICdfJykubGVuZ3RoO1xuICB9XG5cbiAgaWYgKGxlbikge1xuICAgIGlmICh2YWwgIT09IHJ1bGUubGVuKSB7XG4gICAgICBlcnJvcnMucHVzaChmb3JtYXQob3B0aW9ucy5tZXNzYWdlc1trZXldLmxlbiwgcnVsZS5mdWxsRmllbGQsIHJ1bGUubGVuKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKG1pbiAmJiAhbWF4ICYmIHZhbCA8IHJ1bGUubWluKSB7XG4gICAgZXJyb3JzLnB1c2goZm9ybWF0KG9wdGlvbnMubWVzc2FnZXNba2V5XS5taW4sIHJ1bGUuZnVsbEZpZWxkLCBydWxlLm1pbikpO1xuICB9IGVsc2UgaWYgKG1heCAmJiAhbWluICYmIHZhbCA+IHJ1bGUubWF4KSB7XG4gICAgZXJyb3JzLnB1c2goZm9ybWF0KG9wdGlvbnMubWVzc2FnZXNba2V5XS5tYXgsIHJ1bGUuZnVsbEZpZWxkLCBydWxlLm1heCkpO1xuICB9IGVsc2UgaWYgKG1pbiAmJiBtYXggJiYgKHZhbCA8IHJ1bGUubWluIHx8IHZhbCA+IHJ1bGUubWF4KSkge1xuICAgIGVycm9ycy5wdXNoKGZvcm1hdChvcHRpb25zLm1lc3NhZ2VzW2tleV0ucmFuZ2UsIHJ1bGUuZnVsbEZpZWxkLCBydWxlLm1pbiwgcnVsZS5tYXgpKTtcbiAgfVxufTtcblxudmFyIEVOVU0kMSA9ICdlbnVtJztcblxudmFyIGVudW1lcmFibGUkMSA9IGZ1bmN0aW9uIGVudW1lcmFibGUocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKSB7XG4gIHJ1bGVbRU5VTSQxXSA9IEFycmF5LmlzQXJyYXkocnVsZVtFTlVNJDFdKSA/IHJ1bGVbRU5VTSQxXSA6IFtdO1xuXG4gIGlmIChydWxlW0VOVU0kMV0uaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgZXJyb3JzLnB1c2goZm9ybWF0KG9wdGlvbnMubWVzc2FnZXNbRU5VTSQxXSwgcnVsZS5mdWxsRmllbGQsIHJ1bGVbRU5VTSQxXS5qb2luKCcsICcpKSk7XG4gIH1cbn07XG5cbnZhciBwYXR0ZXJuJDEgPSBmdW5jdGlvbiBwYXR0ZXJuKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucykge1xuICBpZiAocnVsZS5wYXR0ZXJuKSB7XG4gICAgaWYgKHJ1bGUucGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgLy8gaWYgYSBSZWdFeHAgaW5zdGFuY2UgaXMgcGFzc2VkLCByZXNldCBgbGFzdEluZGV4YCBpbiBjYXNlIGl0cyBgZ2xvYmFsYFxuICAgICAgLy8gZmxhZyBpcyBhY2NpZGVudGFsbHkgc2V0IHRvIGB0cnVlYCwgd2hpY2ggaW4gYSB2YWxpZGF0aW9uIHNjZW5hcmlvXG4gICAgICAvLyBpcyBub3QgbmVjZXNzYXJ5IGFuZCB0aGUgcmVzdWx0IG1pZ2h0IGJlIG1pc2xlYWRpbmdcbiAgICAgIHJ1bGUucGF0dGVybi5sYXN0SW5kZXggPSAwO1xuXG4gICAgICBpZiAoIXJ1bGUucGF0dGVybi50ZXN0KHZhbHVlKSkge1xuICAgICAgICBlcnJvcnMucHVzaChmb3JtYXQob3B0aW9ucy5tZXNzYWdlcy5wYXR0ZXJuLm1pc21hdGNoLCBydWxlLmZ1bGxGaWVsZCwgdmFsdWUsIHJ1bGUucGF0dGVybikpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHJ1bGUucGF0dGVybiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciBfcGF0dGVybiA9IG5ldyBSZWdFeHAocnVsZS5wYXR0ZXJuKTtcblxuICAgICAgaWYgKCFfcGF0dGVybi50ZXN0KHZhbHVlKSkge1xuICAgICAgICBlcnJvcnMucHVzaChmb3JtYXQob3B0aW9ucy5tZXNzYWdlcy5wYXR0ZXJuLm1pc21hdGNoLCBydWxlLmZ1bGxGaWVsZCwgdmFsdWUsIHJ1bGUucGF0dGVybikpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxudmFyIHJ1bGVzID0ge1xuICByZXF1aXJlZDogcmVxdWlyZWQkMSxcbiAgd2hpdGVzcGFjZTogd2hpdGVzcGFjZSxcbiAgdHlwZTogdHlwZSQxLFxuICByYW5nZTogcmFuZ2UsXG4gIFwiZW51bVwiOiBlbnVtZXJhYmxlJDEsXG4gIHBhdHRlcm46IHBhdHRlcm4kMVxufTtcblxudmFyIHN0cmluZyA9IGZ1bmN0aW9uIHN0cmluZyhydWxlLCB2YWx1ZSwgY2FsbGJhY2ssIHNvdXJjZSwgb3B0aW9ucykge1xuICB2YXIgZXJyb3JzID0gW107XG4gIHZhciB2YWxpZGF0ZSA9IHJ1bGUucmVxdWlyZWQgfHwgIXJ1bGUucmVxdWlyZWQgJiYgc291cmNlLmhhc093blByb3BlcnR5KHJ1bGUuZmllbGQpO1xuXG4gIGlmICh2YWxpZGF0ZSkge1xuICAgIGlmIChpc0VtcHR5VmFsdWUodmFsdWUsICdzdHJpbmcnKSAmJiAhcnVsZS5yZXF1aXJlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgcnVsZXMucmVxdWlyZWQocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zLCAnc3RyaW5nJyk7XG5cbiAgICBpZiAoIWlzRW1wdHlWYWx1ZSh2YWx1ZSwgJ3N0cmluZycpKSB7XG4gICAgICBydWxlcy50eXBlKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gICAgICBydWxlcy5yYW5nZShydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICAgICAgcnVsZXMucGF0dGVybihydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuXG4gICAgICBpZiAocnVsZS53aGl0ZXNwYWNlID09PSB0cnVlKSB7XG4gICAgICAgIHJ1bGVzLndoaXRlc3BhY2UocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjYWxsYmFjayhlcnJvcnMpO1xufTtcblxudmFyIG1ldGhvZCA9IGZ1bmN0aW9uIG1ldGhvZChydWxlLCB2YWx1ZSwgY2FsbGJhY2ssIHNvdXJjZSwgb3B0aW9ucykge1xuICB2YXIgZXJyb3JzID0gW107XG4gIHZhciB2YWxpZGF0ZSA9IHJ1bGUucmVxdWlyZWQgfHwgIXJ1bGUucmVxdWlyZWQgJiYgc291cmNlLmhhc093blByb3BlcnR5KHJ1bGUuZmllbGQpO1xuXG4gIGlmICh2YWxpZGF0ZSkge1xuICAgIGlmIChpc0VtcHR5VmFsdWUodmFsdWUpICYmICFydWxlLnJlcXVpcmVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBydWxlcy5yZXF1aXJlZChydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJ1bGVzLnR5cGUocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBjYWxsYmFjayhlcnJvcnMpO1xufTtcblxudmFyIG51bWJlciA9IGZ1bmN0aW9uIG51bWJlcihydWxlLCB2YWx1ZSwgY2FsbGJhY2ssIHNvdXJjZSwgb3B0aW9ucykge1xuICB2YXIgZXJyb3JzID0gW107XG4gIHZhciB2YWxpZGF0ZSA9IHJ1bGUucmVxdWlyZWQgfHwgIXJ1bGUucmVxdWlyZWQgJiYgc291cmNlLmhhc093blByb3BlcnR5KHJ1bGUuZmllbGQpO1xuXG4gIGlmICh2YWxpZGF0ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gJycpIHtcbiAgICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmIChpc0VtcHR5VmFsdWUodmFsdWUpICYmICFydWxlLnJlcXVpcmVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBydWxlcy5yZXF1aXJlZChydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJ1bGVzLnR5cGUocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICAgIHJ1bGVzLnJhbmdlKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgY2FsbGJhY2soZXJyb3JzKTtcbn07XG5cbnZhciBfYm9vbGVhbiA9IGZ1bmN0aW9uIF9ib29sZWFuKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaywgc291cmNlLCBvcHRpb25zKSB7XG4gIHZhciBlcnJvcnMgPSBbXTtcbiAgdmFyIHZhbGlkYXRlID0gcnVsZS5yZXF1aXJlZCB8fCAhcnVsZS5yZXF1aXJlZCAmJiBzb3VyY2UuaGFzT3duUHJvcGVydHkocnVsZS5maWVsZCk7XG5cbiAgaWYgKHZhbGlkYXRlKSB7XG4gICAgaWYgKGlzRW1wdHlWYWx1ZSh2YWx1ZSkgJiYgIXJ1bGUucmVxdWlyZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHJ1bGVzLnJlcXVpcmVkKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG5cbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcnVsZXMudHlwZShydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIGNhbGxiYWNrKGVycm9ycyk7XG59O1xuXG52YXIgcmVnZXhwID0gZnVuY3Rpb24gcmVnZXhwKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaywgc291cmNlLCBvcHRpb25zKSB7XG4gIHZhciBlcnJvcnMgPSBbXTtcbiAgdmFyIHZhbGlkYXRlID0gcnVsZS5yZXF1aXJlZCB8fCAhcnVsZS5yZXF1aXJlZCAmJiBzb3VyY2UuaGFzT3duUHJvcGVydHkocnVsZS5maWVsZCk7XG5cbiAgaWYgKHZhbGlkYXRlKSB7XG4gICAgaWYgKGlzRW1wdHlWYWx1ZSh2YWx1ZSkgJiYgIXJ1bGUucmVxdWlyZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHJ1bGVzLnJlcXVpcmVkKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG5cbiAgICBpZiAoIWlzRW1wdHlWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgIHJ1bGVzLnR5cGUocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBjYWxsYmFjayhlcnJvcnMpO1xufTtcblxudmFyIGludGVnZXIgPSBmdW5jdGlvbiBpbnRlZ2VyKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaywgc291cmNlLCBvcHRpb25zKSB7XG4gIHZhciBlcnJvcnMgPSBbXTtcbiAgdmFyIHZhbGlkYXRlID0gcnVsZS5yZXF1aXJlZCB8fCAhcnVsZS5yZXF1aXJlZCAmJiBzb3VyY2UuaGFzT3duUHJvcGVydHkocnVsZS5maWVsZCk7XG5cbiAgaWYgKHZhbGlkYXRlKSB7XG4gICAgaWYgKGlzRW1wdHlWYWx1ZSh2YWx1ZSkgJiYgIXJ1bGUucmVxdWlyZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHJ1bGVzLnJlcXVpcmVkKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG5cbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcnVsZXMudHlwZShydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICAgICAgcnVsZXMucmFuZ2UocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBjYWxsYmFjayhlcnJvcnMpO1xufTtcblxudmFyIGZsb2F0Rm4gPSBmdW5jdGlvbiBmbG9hdEZuKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaywgc291cmNlLCBvcHRpb25zKSB7XG4gIHZhciBlcnJvcnMgPSBbXTtcbiAgdmFyIHZhbGlkYXRlID0gcnVsZS5yZXF1aXJlZCB8fCAhcnVsZS5yZXF1aXJlZCAmJiBzb3VyY2UuaGFzT3duUHJvcGVydHkocnVsZS5maWVsZCk7XG5cbiAgaWYgKHZhbGlkYXRlKSB7XG4gICAgaWYgKGlzRW1wdHlWYWx1ZSh2YWx1ZSkgJiYgIXJ1bGUucmVxdWlyZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHJ1bGVzLnJlcXVpcmVkKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG5cbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcnVsZXMudHlwZShydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICAgICAgcnVsZXMucmFuZ2UocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBjYWxsYmFjayhlcnJvcnMpO1xufTtcblxudmFyIGFycmF5ID0gZnVuY3Rpb24gYXJyYXkocnVsZSwgdmFsdWUsIGNhbGxiYWNrLCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGVycm9ycyA9IFtdO1xuICB2YXIgdmFsaWRhdGUgPSBydWxlLnJlcXVpcmVkIHx8ICFydWxlLnJlcXVpcmVkICYmIHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShydWxlLmZpZWxkKTtcblxuICBpZiAodmFsaWRhdGUpIHtcbiAgICBpZiAoKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpICYmICFydWxlLnJlcXVpcmVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBydWxlcy5yZXF1aXJlZChydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMsICdhcnJheScpO1xuXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgIHJ1bGVzLnR5cGUocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICAgIHJ1bGVzLnJhbmdlKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgY2FsbGJhY2soZXJyb3JzKTtcbn07XG5cbnZhciBvYmplY3QgPSBmdW5jdGlvbiBvYmplY3QocnVsZSwgdmFsdWUsIGNhbGxiYWNrLCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGVycm9ycyA9IFtdO1xuICB2YXIgdmFsaWRhdGUgPSBydWxlLnJlcXVpcmVkIHx8ICFydWxlLnJlcXVpcmVkICYmIHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShydWxlLmZpZWxkKTtcblxuICBpZiAodmFsaWRhdGUpIHtcbiAgICBpZiAoaXNFbXB0eVZhbHVlKHZhbHVlKSAmJiAhcnVsZS5yZXF1aXJlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgcnVsZXMucmVxdWlyZWQocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcblxuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBydWxlcy50eXBlKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgY2FsbGJhY2soZXJyb3JzKTtcbn07XG5cbnZhciBFTlVNID0gJ2VudW0nO1xuXG52YXIgZW51bWVyYWJsZSA9IGZ1bmN0aW9uIGVudW1lcmFibGUocnVsZSwgdmFsdWUsIGNhbGxiYWNrLCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGVycm9ycyA9IFtdO1xuICB2YXIgdmFsaWRhdGUgPSBydWxlLnJlcXVpcmVkIHx8ICFydWxlLnJlcXVpcmVkICYmIHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShydWxlLmZpZWxkKTtcblxuICBpZiAodmFsaWRhdGUpIHtcbiAgICBpZiAoaXNFbXB0eVZhbHVlKHZhbHVlKSAmJiAhcnVsZS5yZXF1aXJlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgcnVsZXMucmVxdWlyZWQocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcblxuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBydWxlc1tFTlVNXShydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIGNhbGxiYWNrKGVycm9ycyk7XG59O1xuXG52YXIgcGF0dGVybiA9IGZ1bmN0aW9uIHBhdHRlcm4ocnVsZSwgdmFsdWUsIGNhbGxiYWNrLCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGVycm9ycyA9IFtdO1xuICB2YXIgdmFsaWRhdGUgPSBydWxlLnJlcXVpcmVkIHx8ICFydWxlLnJlcXVpcmVkICYmIHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShydWxlLmZpZWxkKTtcblxuICBpZiAodmFsaWRhdGUpIHtcbiAgICBpZiAoaXNFbXB0eVZhbHVlKHZhbHVlLCAnc3RyaW5nJykgJiYgIXJ1bGUucmVxdWlyZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHJ1bGVzLnJlcXVpcmVkKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG5cbiAgICBpZiAoIWlzRW1wdHlWYWx1ZSh2YWx1ZSwgJ3N0cmluZycpKSB7XG4gICAgICBydWxlcy5wYXR0ZXJuKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgY2FsbGJhY2soZXJyb3JzKTtcbn07XG5cbnZhciBkYXRlID0gZnVuY3Rpb24gZGF0ZShydWxlLCB2YWx1ZSwgY2FsbGJhY2ssIHNvdXJjZSwgb3B0aW9ucykge1xuICAvLyBjb25zb2xlLmxvZygnaW50ZWdlciBydWxlIGNhbGxlZCAlaicsIHJ1bGUpO1xuICB2YXIgZXJyb3JzID0gW107XG4gIHZhciB2YWxpZGF0ZSA9IHJ1bGUucmVxdWlyZWQgfHwgIXJ1bGUucmVxdWlyZWQgJiYgc291cmNlLmhhc093blByb3BlcnR5KHJ1bGUuZmllbGQpOyAvLyBjb25zb2xlLmxvZygndmFsaWRhdGUgb24gJXMgdmFsdWUnLCB2YWx1ZSk7XG5cbiAgaWYgKHZhbGlkYXRlKSB7XG4gICAgaWYgKGlzRW1wdHlWYWx1ZSh2YWx1ZSwgJ2RhdGUnKSAmJiAhcnVsZS5yZXF1aXJlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgcnVsZXMucmVxdWlyZWQocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcblxuICAgIGlmICghaXNFbXB0eVZhbHVlKHZhbHVlLCAnZGF0ZScpKSB7XG4gICAgICB2YXIgZGF0ZU9iamVjdDtcblxuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBkYXRlT2JqZWN0ID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRlT2JqZWN0ID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBydWxlcy50eXBlKHJ1bGUsIGRhdGVPYmplY3QsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcblxuICAgICAgaWYgKGRhdGVPYmplY3QpIHtcbiAgICAgICAgcnVsZXMucmFuZ2UocnVsZSwgZGF0ZU9iamVjdC5nZXRUaW1lKCksIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjYWxsYmFjayhlcnJvcnMpO1xufTtcblxudmFyIHJlcXVpcmVkID0gZnVuY3Rpb24gcmVxdWlyZWQocnVsZSwgdmFsdWUsIGNhbGxiYWNrLCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGVycm9ycyA9IFtdO1xuICB2YXIgdHlwZSA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gJ2FycmF5JyA6IHR5cGVvZiB2YWx1ZTtcbiAgcnVsZXMucmVxdWlyZWQocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zLCB0eXBlKTtcbiAgY2FsbGJhY2soZXJyb3JzKTtcbn07XG5cbnZhciB0eXBlID0gZnVuY3Rpb24gdHlwZShydWxlLCB2YWx1ZSwgY2FsbGJhY2ssIHNvdXJjZSwgb3B0aW9ucykge1xuICB2YXIgcnVsZVR5cGUgPSBydWxlLnR5cGU7XG4gIHZhciBlcnJvcnMgPSBbXTtcbiAgdmFyIHZhbGlkYXRlID0gcnVsZS5yZXF1aXJlZCB8fCAhcnVsZS5yZXF1aXJlZCAmJiBzb3VyY2UuaGFzT3duUHJvcGVydHkocnVsZS5maWVsZCk7XG5cbiAgaWYgKHZhbGlkYXRlKSB7XG4gICAgaWYgKGlzRW1wdHlWYWx1ZSh2YWx1ZSwgcnVsZVR5cGUpICYmICFydWxlLnJlcXVpcmVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBydWxlcy5yZXF1aXJlZChydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMsIHJ1bGVUeXBlKTtcblxuICAgIGlmICghaXNFbXB0eVZhbHVlKHZhbHVlLCBydWxlVHlwZSkpIHtcbiAgICAgIHJ1bGVzLnR5cGUocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBjYWxsYmFjayhlcnJvcnMpO1xufTtcblxudmFyIGFueSA9IGZ1bmN0aW9uIGFueShydWxlLCB2YWx1ZSwgY2FsbGJhY2ssIHNvdXJjZSwgb3B0aW9ucykge1xuICB2YXIgZXJyb3JzID0gW107XG4gIHZhciB2YWxpZGF0ZSA9IHJ1bGUucmVxdWlyZWQgfHwgIXJ1bGUucmVxdWlyZWQgJiYgc291cmNlLmhhc093blByb3BlcnR5KHJ1bGUuZmllbGQpO1xuXG4gIGlmICh2YWxpZGF0ZSkge1xuICAgIGlmIChpc0VtcHR5VmFsdWUodmFsdWUpICYmICFydWxlLnJlcXVpcmVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBydWxlcy5yZXF1aXJlZChydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICB9XG5cbiAgY2FsbGJhY2soZXJyb3JzKTtcbn07XG5cbnZhciB2YWxpZGF0b3JzID0ge1xuICBzdHJpbmc6IHN0cmluZyxcbiAgbWV0aG9kOiBtZXRob2QsXG4gIG51bWJlcjogbnVtYmVyLFxuICBcImJvb2xlYW5cIjogX2Jvb2xlYW4sXG4gIHJlZ2V4cDogcmVnZXhwLFxuICBpbnRlZ2VyOiBpbnRlZ2VyLFxuICBcImZsb2F0XCI6IGZsb2F0Rm4sXG4gIGFycmF5OiBhcnJheSxcbiAgb2JqZWN0OiBvYmplY3QsXG4gIFwiZW51bVwiOiBlbnVtZXJhYmxlLFxuICBwYXR0ZXJuOiBwYXR0ZXJuLFxuICBkYXRlOiBkYXRlLFxuICB1cmw6IHR5cGUsXG4gIGhleDogdHlwZSxcbiAgZW1haWw6IHR5cGUsXG4gIHJlcXVpcmVkOiByZXF1aXJlZCxcbiAgYW55OiBhbnlcbn07XG5cbmZ1bmN0aW9uIG5ld01lc3NhZ2VzKCkge1xuICByZXR1cm4ge1xuICAgIFwiZGVmYXVsdFwiOiAnVmFsaWRhdGlvbiBlcnJvciBvbiBmaWVsZCAlcycsXG4gICAgcmVxdWlyZWQ6ICclcyBpcyByZXF1aXJlZCcsXG4gICAgXCJlbnVtXCI6ICclcyBtdXN0IGJlIG9uZSBvZiAlcycsXG4gICAgd2hpdGVzcGFjZTogJyVzIGNhbm5vdCBiZSBlbXB0eScsXG4gICAgZGF0ZToge1xuICAgICAgZm9ybWF0OiAnJXMgZGF0ZSAlcyBpcyBpbnZhbGlkIGZvciBmb3JtYXQgJXMnLFxuICAgICAgcGFyc2U6ICclcyBkYXRlIGNvdWxkIG5vdCBiZSBwYXJzZWQsICVzIGlzIGludmFsaWQgJyxcbiAgICAgIGludmFsaWQ6ICclcyBkYXRlICVzIGlzIGludmFsaWQnXG4gICAgfSxcbiAgICB0eXBlczoge1xuICAgICAgc3RyaW5nOiAnJXMgaXMgbm90IGEgJXMnLFxuICAgICAgbWV0aG9kOiAnJXMgaXMgbm90IGEgJXMgKGZ1bmN0aW9uKScsXG4gICAgICBhcnJheTogJyVzIGlzIG5vdCBhbiAlcycsXG4gICAgICBvYmplY3Q6ICclcyBpcyBub3QgYW4gJXMnLFxuICAgICAgbnVtYmVyOiAnJXMgaXMgbm90IGEgJXMnLFxuICAgICAgZGF0ZTogJyVzIGlzIG5vdCBhICVzJyxcbiAgICAgIFwiYm9vbGVhblwiOiAnJXMgaXMgbm90IGEgJXMnLFxuICAgICAgaW50ZWdlcjogJyVzIGlzIG5vdCBhbiAlcycsXG4gICAgICBcImZsb2F0XCI6ICclcyBpcyBub3QgYSAlcycsXG4gICAgICByZWdleHA6ICclcyBpcyBub3QgYSB2YWxpZCAlcycsXG4gICAgICBlbWFpbDogJyVzIGlzIG5vdCBhIHZhbGlkICVzJyxcbiAgICAgIHVybDogJyVzIGlzIG5vdCBhIHZhbGlkICVzJyxcbiAgICAgIGhleDogJyVzIGlzIG5vdCBhIHZhbGlkICVzJ1xuICAgIH0sXG4gICAgc3RyaW5nOiB7XG4gICAgICBsZW46ICclcyBtdXN0IGJlIGV4YWN0bHkgJXMgY2hhcmFjdGVycycsXG4gICAgICBtaW46ICclcyBtdXN0IGJlIGF0IGxlYXN0ICVzIGNoYXJhY3RlcnMnLFxuICAgICAgbWF4OiAnJXMgY2Fubm90IGJlIGxvbmdlciB0aGFuICVzIGNoYXJhY3RlcnMnLFxuICAgICAgcmFuZ2U6ICclcyBtdXN0IGJlIGJldHdlZW4gJXMgYW5kICVzIGNoYXJhY3RlcnMnXG4gICAgfSxcbiAgICBudW1iZXI6IHtcbiAgICAgIGxlbjogJyVzIG11c3QgZXF1YWwgJXMnLFxuICAgICAgbWluOiAnJXMgY2Fubm90IGJlIGxlc3MgdGhhbiAlcycsXG4gICAgICBtYXg6ICclcyBjYW5ub3QgYmUgZ3JlYXRlciB0aGFuICVzJyxcbiAgICAgIHJhbmdlOiAnJXMgbXVzdCBiZSBiZXR3ZWVuICVzIGFuZCAlcydcbiAgICB9LFxuICAgIGFycmF5OiB7XG4gICAgICBsZW46ICclcyBtdXN0IGJlIGV4YWN0bHkgJXMgaW4gbGVuZ3RoJyxcbiAgICAgIG1pbjogJyVzIGNhbm5vdCBiZSBsZXNzIHRoYW4gJXMgaW4gbGVuZ3RoJyxcbiAgICAgIG1heDogJyVzIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gJXMgaW4gbGVuZ3RoJyxcbiAgICAgIHJhbmdlOiAnJXMgbXVzdCBiZSBiZXR3ZWVuICVzIGFuZCAlcyBpbiBsZW5ndGgnXG4gICAgfSxcbiAgICBwYXR0ZXJuOiB7XG4gICAgICBtaXNtYXRjaDogJyVzIHZhbHVlICVzIGRvZXMgbm90IG1hdGNoIHBhdHRlcm4gJXMnXG4gICAgfSxcbiAgICBjbG9uZTogZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICB2YXIgY2xvbmVkID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzKSk7XG4gICAgICBjbG9uZWQuY2xvbmUgPSB0aGlzLmNsb25lO1xuICAgICAgcmV0dXJuIGNsb25lZDtcbiAgICB9XG4gIH07XG59XG52YXIgbWVzc2FnZXMgPSBuZXdNZXNzYWdlcygpO1xuXG4vKipcbiAqICBFbmNhcHN1bGF0ZXMgYSB2YWxpZGF0aW9uIHNjaGVtYS5cbiAqXG4gKiAgQHBhcmFtIGRlc2NyaXB0b3IgQW4gb2JqZWN0IGRlY2xhcmluZyB2YWxpZGF0aW9uIHJ1bGVzXG4gKiAgZm9yIHRoaXMgc2NoZW1hLlxuICovXG5cbnZhciBTY2hlbWEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09IFN0YXRpYyA9PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PSBJbnN0YW5jZSA9PT09PT09PT09PT09PT09PT09PT09PT1cbiAgZnVuY3Rpb24gU2NoZW1hKGRlc2NyaXB0b3IpIHtcbiAgICB0aGlzLnJ1bGVzID0gbnVsbDtcbiAgICB0aGlzLl9tZXNzYWdlcyA9IG1lc3NhZ2VzO1xuICAgIHRoaXMuZGVmaW5lKGRlc2NyaXB0b3IpO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFNjaGVtYS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmRlZmluZSA9IGZ1bmN0aW9uIGRlZmluZShydWxlcykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoIXJ1bGVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb25maWd1cmUgYSBzY2hlbWEgd2l0aCBubyBydWxlcycpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcnVsZXMgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkocnVsZXMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1J1bGVzIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5ydWxlcyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKHJ1bGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICB2YXIgaXRlbSA9IHJ1bGVzW25hbWVdO1xuICAgICAgX3RoaXMucnVsZXNbbmFtZV0gPSBBcnJheS5pc0FycmF5KGl0ZW0pID8gaXRlbSA6IFtpdGVtXTtcbiAgICB9KTtcbiAgfTtcblxuICBfcHJvdG8ubWVzc2FnZXMgPSBmdW5jdGlvbiBtZXNzYWdlcyhfbWVzc2FnZXMpIHtcbiAgICBpZiAoX21lc3NhZ2VzKSB7XG4gICAgICB0aGlzLl9tZXNzYWdlcyA9IGRlZXBNZXJnZShuZXdNZXNzYWdlcygpLCBfbWVzc2FnZXMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9tZXNzYWdlcztcbiAgfTtcblxuICBfcHJvdG8udmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZShzb3VyY2VfLCBvLCBvYykge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgaWYgKG8gPT09IHZvaWQgMCkge1xuICAgICAgbyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChvYyA9PT0gdm9pZCAwKSB7XG4gICAgICBvYyA9IGZ1bmN0aW9uIG9jKCkge307XG4gICAgfVxuXG4gICAgdmFyIHNvdXJjZSA9IHNvdXJjZV87XG4gICAgdmFyIG9wdGlvbnMgPSBvO1xuICAgIHZhciBjYWxsYmFjayA9IG9jO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnJ1bGVzIHx8IE9iamVjdC5rZXlzKHRoaXMucnVsZXMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHNvdXJjZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc291cmNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb21wbGV0ZShyZXN1bHRzKSB7XG4gICAgICB2YXIgZXJyb3JzID0gW107XG4gICAgICB2YXIgZmllbGRzID0ge307XG5cbiAgICAgIGZ1bmN0aW9uIGFkZChlKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSB7XG4gICAgICAgICAgdmFyIF9lcnJvcnM7XG5cbiAgICAgICAgICBlcnJvcnMgPSAoX2Vycm9ycyA9IGVycm9ycykuY29uY2F0LmFwcGx5KF9lcnJvcnMsIGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVycm9ycy5wdXNoKGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBhZGQocmVzdWx0c1tpXSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCBzb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmllbGRzID0gY29udmVydEZpZWxkc0Vycm9yKGVycm9ycyk7XG4gICAgICAgIGNhbGxiYWNrKGVycm9ycywgZmllbGRzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5tZXNzYWdlcykge1xuICAgICAgdmFyIG1lc3NhZ2VzJDEgPSB0aGlzLm1lc3NhZ2VzKCk7XG5cbiAgICAgIGlmIChtZXNzYWdlcyQxID09PSBtZXNzYWdlcykge1xuICAgICAgICBtZXNzYWdlcyQxID0gbmV3TWVzc2FnZXMoKTtcbiAgICAgIH1cblxuICAgICAgZGVlcE1lcmdlKG1lc3NhZ2VzJDEsIG9wdGlvbnMubWVzc2FnZXMpO1xuICAgICAgb3B0aW9ucy5tZXNzYWdlcyA9IG1lc3NhZ2VzJDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMubWVzc2FnZXMgPSB0aGlzLm1lc3NhZ2VzKCk7XG4gICAgfVxuXG4gICAgdmFyIHNlcmllcyA9IHt9O1xuICAgIHZhciBrZXlzID0gb3B0aW9ucy5rZXlzIHx8IE9iamVjdC5rZXlzKHRoaXMucnVsZXMpO1xuICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoeikge1xuICAgICAgdmFyIGFyciA9IF90aGlzMi5ydWxlc1t6XTtcbiAgICAgIHZhciB2YWx1ZSA9IHNvdXJjZVt6XTtcbiAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgIHZhciBydWxlID0gcjtcblxuICAgICAgICBpZiAodHlwZW9mIHJ1bGUudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHNvdXJjZSA9PT0gc291cmNlXykge1xuICAgICAgICAgICAgc291cmNlID0gX2V4dGVuZHMoe30sIHNvdXJjZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFsdWUgPSBzb3VyY2Vbel0gPSBydWxlLnRyYW5zZm9ybSh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHJ1bGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBydWxlID0ge1xuICAgICAgICAgICAgdmFsaWRhdG9yOiBydWxlXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBydWxlID0gX2V4dGVuZHMoe30sIHJ1bGUpO1xuICAgICAgICB9IC8vIEZpbGwgdmFsaWRhdG9yLiBTa2lwIGlmIG5vdGhpbmcgbmVlZCB0byB2YWxpZGF0ZVxuXG5cbiAgICAgICAgcnVsZS52YWxpZGF0b3IgPSBfdGhpczIuZ2V0VmFsaWRhdGlvbk1ldGhvZChydWxlKTtcblxuICAgICAgICBpZiAoIXJ1bGUudmFsaWRhdG9yKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcnVsZS5maWVsZCA9IHo7XG4gICAgICAgIHJ1bGUuZnVsbEZpZWxkID0gcnVsZS5mdWxsRmllbGQgfHwgejtcbiAgICAgICAgcnVsZS50eXBlID0gX3RoaXMyLmdldFR5cGUocnVsZSk7XG4gICAgICAgIHNlcmllc1t6XSA9IHNlcmllc1t6XSB8fCBbXTtcbiAgICAgICAgc2VyaWVzW3pdLnB1c2goe1xuICAgICAgICAgIHJ1bGU6IHJ1bGUsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICAgIGZpZWxkOiB6XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdmFyIGVycm9yRmllbGRzID0ge307XG4gICAgcmV0dXJuIGFzeW5jTWFwKHNlcmllcywgb3B0aW9ucywgZnVuY3Rpb24gKGRhdGEsIGRvSXQpIHtcbiAgICAgIHZhciBydWxlID0gZGF0YS5ydWxlO1xuICAgICAgdmFyIGRlZXAgPSAocnVsZS50eXBlID09PSAnb2JqZWN0JyB8fCBydWxlLnR5cGUgPT09ICdhcnJheScpICYmICh0eXBlb2YgcnVsZS5maWVsZHMgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBydWxlLmRlZmF1bHRGaWVsZCA9PT0gJ29iamVjdCcpO1xuICAgICAgZGVlcCA9IGRlZXAgJiYgKHJ1bGUucmVxdWlyZWQgfHwgIXJ1bGUucmVxdWlyZWQgJiYgZGF0YS52YWx1ZSk7XG4gICAgICBydWxlLmZpZWxkID0gZGF0YS5maWVsZDtcblxuICAgICAgZnVuY3Rpb24gYWRkRnVsbEZpZWxkKGtleSwgc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc2NoZW1hLCB7XG4gICAgICAgICAgZnVsbEZpZWxkOiBydWxlLmZ1bGxGaWVsZCArIFwiLlwiICsga2V5LFxuICAgICAgICAgIGZ1bGxGaWVsZHM6IHJ1bGUuZnVsbEZpZWxkcyA/IFtdLmNvbmNhdChydWxlLmZ1bGxGaWVsZHMsIFtrZXldKSA6IFtrZXldXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjYihlKSB7XG4gICAgICAgIGlmIChlID09PSB2b2lkIDApIHtcbiAgICAgICAgICBlID0gW107XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZXJyb3JMaXN0ID0gQXJyYXkuaXNBcnJheShlKSA/IGUgOiBbZV07XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLnN1cHByZXNzV2FybmluZyAmJiBlcnJvckxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgU2NoZW1hLndhcm5pbmcoJ2FzeW5jLXZhbGlkYXRvcjonLCBlcnJvckxpc3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVycm9yTGlzdC5sZW5ndGggJiYgcnVsZS5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBlcnJvckxpc3QgPSBbXS5jb25jYXQocnVsZS5tZXNzYWdlKTtcbiAgICAgICAgfSAvLyBGaWxsIGVycm9yIGluZm9cblxuXG4gICAgICAgIHZhciBmaWxsZWRFcnJvcnMgPSBlcnJvckxpc3QubWFwKGNvbXBsZW1lbnRFcnJvcihydWxlLCBzb3VyY2UpKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5maXJzdCAmJiBmaWxsZWRFcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgZXJyb3JGaWVsZHNbcnVsZS5maWVsZF0gPSAxO1xuICAgICAgICAgIHJldHVybiBkb0l0KGZpbGxlZEVycm9ycyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRlZXApIHtcbiAgICAgICAgICBkb0l0KGZpbGxlZEVycm9ycyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaWYgcnVsZSBpcyByZXF1aXJlZCBidXQgdGhlIHRhcmdldCBvYmplY3RcbiAgICAgICAgICAvLyBkb2VzIG5vdCBleGlzdCBmYWlsIGF0IHRoZSBydWxlIGxldmVsIGFuZCBkb24ndFxuICAgICAgICAgIC8vIGdvIGRlZXBlclxuICAgICAgICAgIGlmIChydWxlLnJlcXVpcmVkICYmICFkYXRhLnZhbHVlKSB7XG4gICAgICAgICAgICBpZiAocnVsZS5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgZmlsbGVkRXJyb3JzID0gW10uY29uY2F0KHJ1bGUubWVzc2FnZSkubWFwKGNvbXBsZW1lbnRFcnJvcihydWxlLCBzb3VyY2UpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5lcnJvcikge1xuICAgICAgICAgICAgICBmaWxsZWRFcnJvcnMgPSBbb3B0aW9ucy5lcnJvcihydWxlLCBmb3JtYXQob3B0aW9ucy5tZXNzYWdlcy5yZXF1aXJlZCwgcnVsZS5maWVsZCkpXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRvSXQoZmlsbGVkRXJyb3JzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgZmllbGRzU2NoZW1hID0ge307XG5cbiAgICAgICAgICBpZiAocnVsZS5kZWZhdWx0RmllbGQpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGRhdGEudmFsdWUpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgIGZpZWxkc1NjaGVtYVtrZXldID0gcnVsZS5kZWZhdWx0RmllbGQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmaWVsZHNTY2hlbWEgPSBfZXh0ZW5kcyh7fSwgZmllbGRzU2NoZW1hLCBkYXRhLnJ1bGUuZmllbGRzKTtcbiAgICAgICAgICB2YXIgcGFyZWRGaWVsZHNTY2hlbWEgPSB7fTtcbiAgICAgICAgICBPYmplY3Qua2V5cyhmaWVsZHNTY2hlbWEpLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICAgICAgICB2YXIgZmllbGRTY2hlbWEgPSBmaWVsZHNTY2hlbWFbZmllbGRdO1xuICAgICAgICAgICAgdmFyIGZpZWxkU2NoZW1hTGlzdCA9IEFycmF5LmlzQXJyYXkoZmllbGRTY2hlbWEpID8gZmllbGRTY2hlbWEgOiBbZmllbGRTY2hlbWFdO1xuICAgICAgICAgICAgcGFyZWRGaWVsZHNTY2hlbWFbZmllbGRdID0gZmllbGRTY2hlbWFMaXN0Lm1hcChhZGRGdWxsRmllbGQuYmluZChudWxsLCBmaWVsZCkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBzY2hlbWEgPSBuZXcgU2NoZW1hKHBhcmVkRmllbGRzU2NoZW1hKTtcbiAgICAgICAgICBzY2hlbWEubWVzc2FnZXMob3B0aW9ucy5tZXNzYWdlcyk7XG5cbiAgICAgICAgICBpZiAoZGF0YS5ydWxlLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIGRhdGEucnVsZS5vcHRpb25zLm1lc3NhZ2VzID0gb3B0aW9ucy5tZXNzYWdlcztcbiAgICAgICAgICAgIGRhdGEucnVsZS5vcHRpb25zLmVycm9yID0gb3B0aW9ucy5lcnJvcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzY2hlbWEudmFsaWRhdGUoZGF0YS52YWx1ZSwgZGF0YS5ydWxlLm9wdGlvbnMgfHwgb3B0aW9ucywgZnVuY3Rpb24gKGVycnMpIHtcbiAgICAgICAgICAgIHZhciBmaW5hbEVycm9ycyA9IFtdO1xuXG4gICAgICAgICAgICBpZiAoZmlsbGVkRXJyb3JzICYmIGZpbGxlZEVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgZmluYWxFcnJvcnMucHVzaC5hcHBseShmaW5hbEVycm9ycywgZmlsbGVkRXJyb3JzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVycnMgJiYgZXJycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgZmluYWxFcnJvcnMucHVzaC5hcHBseShmaW5hbEVycm9ycywgZXJycyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRvSXQoZmluYWxFcnJvcnMubGVuZ3RoID8gZmluYWxFcnJvcnMgOiBudWxsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgcmVzO1xuXG4gICAgICBpZiAocnVsZS5hc3luY1ZhbGlkYXRvcikge1xuICAgICAgICByZXMgPSBydWxlLmFzeW5jVmFsaWRhdG9yKHJ1bGUsIGRhdGEudmFsdWUsIGNiLCBkYXRhLnNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICB9IGVsc2UgaWYgKHJ1bGUudmFsaWRhdG9yKSB7XG4gICAgICAgIHJlcyA9IHJ1bGUudmFsaWRhdG9yKHJ1bGUsIGRhdGEudmFsdWUsIGNiLCBkYXRhLnNvdXJjZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHJlcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGNiKCk7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzID09PSBmYWxzZSkge1xuICAgICAgICAgIGNiKHR5cGVvZiBydWxlLm1lc3NhZ2UgPT09ICdmdW5jdGlvbicgPyBydWxlLm1lc3NhZ2UocnVsZS5mdWxsRmllbGQgfHwgcnVsZS5maWVsZCkgOiBydWxlLm1lc3NhZ2UgfHwgKHJ1bGUuZnVsbEZpZWxkIHx8IHJ1bGUuZmllbGQpICsgXCIgZmFpbHNcIik7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICBjYihyZXMpO1xuICAgICAgICB9IGVsc2UgaWYgKHJlcyBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgY2IocmVzLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXMgJiYgcmVzLnRoZW4pIHtcbiAgICAgICAgcmVzLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBjYigpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHJldHVybiBjYihlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgIGNvbXBsZXRlKHJlc3VsdHMpO1xuICAgIH0sIHNvdXJjZSk7XG4gIH07XG5cbiAgX3Byb3RvLmdldFR5cGUgPSBmdW5jdGlvbiBnZXRUeXBlKHJ1bGUpIHtcbiAgICBpZiAocnVsZS50eXBlID09PSB1bmRlZmluZWQgJiYgcnVsZS5wYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICBydWxlLnR5cGUgPSAncGF0dGVybic7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBydWxlLnZhbGlkYXRvciAhPT0gJ2Z1bmN0aW9uJyAmJiBydWxlLnR5cGUgJiYgIXZhbGlkYXRvcnMuaGFzT3duUHJvcGVydHkocnVsZS50eXBlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGZvcm1hdCgnVW5rbm93biBydWxlIHR5cGUgJXMnLCBydWxlLnR5cGUpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcnVsZS50eXBlIHx8ICdzdHJpbmcnO1xuICB9O1xuXG4gIF9wcm90by5nZXRWYWxpZGF0aW9uTWV0aG9kID0gZnVuY3Rpb24gZ2V0VmFsaWRhdGlvbk1ldGhvZChydWxlKSB7XG4gICAgaWYgKHR5cGVvZiBydWxlLnZhbGlkYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHJ1bGUudmFsaWRhdG9yO1xuICAgIH1cblxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocnVsZSk7XG4gICAgdmFyIG1lc3NhZ2VJbmRleCA9IGtleXMuaW5kZXhPZignbWVzc2FnZScpO1xuXG4gICAgaWYgKG1lc3NhZ2VJbmRleCAhPT0gLTEpIHtcbiAgICAgIGtleXMuc3BsaWNlKG1lc3NhZ2VJbmRleCwgMSk7XG4gICAgfVxuXG4gICAgaWYgKGtleXMubGVuZ3RoID09PSAxICYmIGtleXNbMF0gPT09ICdyZXF1aXJlZCcpIHtcbiAgICAgIHJldHVybiB2YWxpZGF0b3JzLnJlcXVpcmVkO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0b3JzW3RoaXMuZ2V0VHlwZShydWxlKV0gfHwgdW5kZWZpbmVkO1xuICB9O1xuXG4gIHJldHVybiBTY2hlbWE7XG59KCk7XG5cblNjaGVtYS5yZWdpc3RlciA9IGZ1bmN0aW9uIHJlZ2lzdGVyKHR5cGUsIHZhbGlkYXRvcikge1xuICBpZiAodHlwZW9mIHZhbGlkYXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHJlZ2lzdGVyIGEgdmFsaWRhdG9yIGJ5IHR5cGUsIHZhbGlkYXRvciBpcyBub3QgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdmFsaWRhdG9yc1t0eXBlXSA9IHZhbGlkYXRvcjtcbn07XG5cblNjaGVtYS53YXJuaW5nID0gd2FybmluZztcblNjaGVtYS5tZXNzYWdlcyA9IG1lc3NhZ2VzO1xuU2NoZW1hLnZhbGlkYXRvcnMgPSB2YWxpZGF0b3JzO1xuXG5leHBvcnQgeyBTY2hlbWEgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiX2V4dGVuZHMiLCJPYmplY3QiLCJhc3NpZ24iLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXBwbHkiLCJ0aGlzIiwiX2dldFByb3RvdHlwZU9mIiwibyIsInNldFByb3RvdHlwZU9mIiwiZ2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfc2V0UHJvdG90eXBlT2YiLCJwIiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJzaGFtIiwiUHJveHkiLCJCb29sZWFuIiwidmFsdWVPZiIsImUiLCJfY29uc3RydWN0IiwiUGFyZW50IiwiYXJncyIsIkNsYXNzIiwiYSIsInB1c2giLCJpbnN0YW5jZSIsIkZ1bmN0aW9uIiwiYmluZCIsIl93cmFwTmF0aXZlU3VwZXIiLCJfY2FjaGUiLCJNYXAiLCJ1bmRlZmluZWQiLCJmbiIsInRvU3RyaW5nIiwiaW5kZXhPZiIsIlR5cGVFcnJvciIsImhhcyIsImdldCIsInNldCIsIldyYXBwZXIiLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsInZhbHVlIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwiZm9ybWF0UmVnRXhwIiwiY29udmVydEZpZWxkc0Vycm9yIiwiZXJyb3JzIiwiZmllbGRzIiwiZm9yRWFjaCIsImVycm9yIiwiZmllbGQiLCJmb3JtYXQiLCJ0ZW1wbGF0ZSIsIl9sZW4iLCJBcnJheSIsIl9rZXkiLCJsZW4iLCJzdHIiLCJyZXBsYWNlIiwieCIsIlN0cmluZyIsIk51bWJlciIsIkpTT04iLCJzdHJpbmdpZnkiLCJfIiwiaXNFbXB0eVZhbHVlIiwidHlwZSIsImlzQXJyYXkiLCJpc05hdGl2ZVN0cmluZ1R5cGUiLCJhc3luY1NlcmlhbEFycmF5IiwiYXJyIiwiZnVuYyIsImNhbGxiYWNrIiwiaW5kZXgiLCJhcnJMZW5ndGgiLCJuZXh0Iiwib3JpZ2luYWwiLCJwcm9jZXNzIiwiZW52IiwiQXN5bmNWYWxpZGF0aW9uRXJyb3IiLCJfRXJyb3IiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJfdGhpcyIsIkVycm9yIiwiY29tcGxlbWVudEVycm9yIiwicnVsZSIsIm9lIiwiZmllbGRWYWx1ZSIsIm9iaiIsImZ1bGxGaWVsZHMiLCJwYXRoIiwidiIsImdldFZhbHVlIiwiZnVsbEZpZWxkIiwibWVzc2FnZSIsImRlZXBNZXJnZSIsInMiLCJyZXF1aXJlZCQxIiwib3B0aW9ucyIsInJlcXVpcmVkIiwibWVzc2FnZXMiLCJwYXR0ZXJuJDIiLCJlbWFpbCIsInVybCIsIlJlZ0V4cCIsImhleCIsInR5cGVzIiwiaW50ZWdlciIsIm51bWJlciIsInBhcnNlSW50IiwiYXJyYXkiLCJyZWdleHAiLCJkYXRlIiwiZ2V0VGltZSIsImdldE1vbnRoIiwiZ2V0WWVhciIsImlzTmFOIiwib2JqZWN0IiwibWV0aG9kIiwibWF0Y2giLCJydWxlcyIsInRlc3QiLCJ3aGl0ZXNwYWNlIiwicnVsZVR5cGUiLCJtaW4iLCJtYXgiLCJ2YWwiLCJudW0iLCJyYW5nZSIsImpvaW4iLCJwYXR0ZXJuIiwibGFzdEluZGV4IiwibWlzbWF0Y2giLCJ2YWxpZGF0b3JzIiwic3RyaW5nIiwiZGF0ZU9iamVjdCIsIkRhdGUiLCJhbnkiLCJuZXdNZXNzYWdlcyIsInBhcnNlIiwiaW52YWxpZCIsImNsb25lIiwiY2xvbmVkIiwiU2NoZW1hIiwiZGVzY3JpcHRvciIsIl9tZXNzYWdlcyIsImRlZmluZSIsIl9wcm90byIsImtleXMiLCJuYW1lIiwiaXRlbSIsInZhbGlkYXRlIiwic291cmNlXyIsIm9jIiwiX3RoaXMyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJtZXNzYWdlcyQxIiwic2VyaWVzIiwieiIsInIiLCJ0cmFuc2Zvcm0iLCJ2YWxpZGF0b3IiLCJnZXRWYWxpZGF0aW9uTWV0aG9kIiwiZ2V0VHlwZSIsImVycm9yRmllbGRzIiwib2JqQXJyIiwib3B0aW9uIiwiZmlyc3QiLCJfcGVuZGluZyIsInJlamVjdCIsImZsYXR0ZW5BcnIiLCJyZXQiLCJrIiwiZmxhdHRlbk9iakFyciIsImZpcnN0RmllbGRzIiwib2JqQXJyS2V5cyIsIm9iakFyckxlbmd0aCIsInRvdGFsIiwicmVzdWx0cyIsInBlbmRpbmciLCJjb3VudCIsImFzeW5jUGFyYWxsZWxBcnJheSIsImFzeW5jTWFwIiwiZGF0YSIsImRvSXQiLCJyZXMiLCJkZWVwIiwiZGVmYXVsdEZpZWxkIiwiYWRkRnVsbEZpZWxkIiwic2NoZW1hIiwiY29uY2F0IiwiY2IiLCJlcnJvckxpc3QiLCJzdXBwcmVzc1dhcm5pbmciLCJ3YXJuaW5nIiwiZmlsbGVkRXJyb3JzIiwibWFwIiwiZmllbGRzU2NoZW1hIiwicGFyZWRGaWVsZHNTY2hlbWEiLCJmaWVsZFNjaGVtYSIsImZpZWxkU2NoZW1hTGlzdCIsImVycnMiLCJmaW5hbEVycm9ycyIsImFzeW5jVmFsaWRhdG9yIiwidGhlbiIsIl9lcnJvcnMiLCJjb21wbGV0ZSIsIm1lc3NhZ2VJbmRleCIsInNwbGljZSIsInJlZ2lzdGVyIl0sInNvdXJjZVJvb3QiOiIifQ==